{"version":3,"sources":["comps/PostModal/PostCard.module.css","pages/Registration.module.css","comps/PostModal/Post.module.css","firebase/config.js","hooks/useAuth.js","hooks/useProfile.js","comps/Menu.js","comps/BurgerMenu.js","comps/Navbar.js","comps/Loading.js","context/auth.js","comps/PrivateRoute.js","comps/ImageGrid.js","comps/PostModal/Username.js","comps/PostModal/Image.js","comps/PostModal/Status.js","comps/PostModal/Comment.js","utils.js","comps/PostModal/Footer.js","comps/Liked.js","comps/PostModal/Modal.js","hooks/useSubs.js","hooks/usePost.js","pages/Home.js","hooks/useFirestore.js","pages/Images.js","pages/Login.js","comps/PostModal/Comments.js","pages/Post.js","comps/Camera.js","comps/Delete.js","comps/ImageContainer.js","comps/Sidenav.js","comps/Title.js","hooks/useStorage.js","comps/ProgressBar.js","comps/UploadForm.js","pages/Profile.js","comps/AuthButton.js","pages/Register.js","comps/ProfileMain.js","pages/Settings.js","App.js","index.js"],"names":["module","exports","app","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","projectStorage","getStorage","projectFirestore","getFirestore","auth","getAuth","timestamp","serverTimestamp","useAuth","useState","user","setuser","error","setError","history","useNavigate","useEffect","unsub","onAuthStateChanged","authUser","signup","name","email","password","a","createUserWithEmailAndPassword","result","setDoc","doc","uid","createdAt","Timestamp","fromDate","Date","message","signIn","signInWithEmailAndPassword","signout","signOut","useProfile","id","data","setdata","currentUser","userRef","onSnapshot","avatar","avatarPath","subscribes","subscribers","getProfileData","getDoc","docSnap","uploadImg","img","setImg","imgRef","ref","getTime","deleteObject","uploadBytes","snap","getDownloadURL","fullPath","url","updateDoc","console","log","deleteAvatar","window","confirm","avatarRef","updateProfileData","Menu","image","classname","open","handleLinkClick","r","className","onClick","to","src","alt","Burger","setOpen","style","transform","opacity","BurgerMenu","Navbar","setName","innerWidth","windowInnerWidth","setWindowInnerWidth","setImage","onresize","Loading","position","top","left","AuthContext","createContext","AuthProvider","children","setUser","loading","setLoading","Provider","value","PrivateRoute","useContext","ImageGrid","setSelectedImage","docs","map","motion","div","layout","whileHover","key","initial","animate","transition","delay","Username","author","subscribe","unsubscribe","s","username","p","includes","span","Image","postImage","Status","setLike","selectedImage","setSelectedPost","postId","isAll","like","setlike","status","likeItem","likeSymbol","commentSymbol","role","aria-label","statustem","e","Comment","addComment","text","setText","commentInput","onSubmit","preventDefault","onChange","target","placeholder","formatErrorMessage","Footer","date","dd","getDate","mm","getMonth","yy","getFullYear","formatDate","toDate","footer","Liked","likedUsers","classList","contains","likedInner","y","likedHeader","likedContent","i","likedItem","Modal","selectedPost","postcard","useFirestore","col","setDocs","projectCollection","collection","length","q","query","orderBy","where","documents","forEach","d","push","usePost","userId","docRef","q1","getDocs","find","q2","profileRef","likedPosts","comments","comment","userData","authorRef","authorData","filter","Home","useSubs","res","Images","Login","authError","setData","handleChange","container","login","content","form","type","forget","clearfix","disabled","btn","Comments","index","fontSize","Post","useParams","post","setPost","setComments","select","postInner","postInfo","Camera","xmlns","width","height","cursor","viewBox","fill","fillRule","clipRule","Delete","deleteImage","color","ImageContainer","htmlFor","accept","display","files","Sidenav","active","align","Title","useStorage","file","progress","setProgress","setUrl","storageRef","collectionRef","uploadTask","uploadBytesResumable","on","percentage","bytesTransferred","totalBytes","err","snapshot","addDoc","allImgRef","ProgressBar","setFile","Math","random","UploadForm","types","selected","Profile","docsList","setDocsList","AuthButton","Register","register","ProfileMain","isEditing","setIsEditing","toDateString","Settings","App","path","element","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e5c0f761.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"postContainer\":\"PostCard_postContainer__eVvEg\",\"postcard\":\"PostCard_postcard__3jYhV\",\"commentInput\":\"PostCard_commentInput__2evis\",\"postImage\":\"PostCard_postImage__EGj4i\",\"username\":\"PostCard_username__3iMx3\",\"status\":\"PostCard_status__27axQ\",\"like\":\"PostCard_like__3-00p\",\"likeItem\":\"PostCard_likeItem__3g2ji\",\"statustem\":\"PostCard_statustem__2k7LH\",\"likeCount\":\"PostCard_likeCount__3hHMd\",\"likeSymbol\":\"PostCard_likeSymbol__4cP5u\",\"commentSymbol\":\"PostCard_commentSymbol__1fmTm\",\"footer\":\"PostCard_footer__ngHMI\",\"date\":\"PostCard_date__1iNiB\",\"image\":\"PostCard_image__dioD9\",\"subscribe\":\"PostCard_subscribe__1AGWM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Registration_form__1LjYZ\",\"btn\":\"Registration_btn__2FA-f\",\"container\":\"Registration_container__1n0Nr\",\"content\":\"Registration_content__1E9Cw\",\"login\":\"Registration_login__1QBzr\",\"register\":\"Registration_register__3j0km\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__29K8Q\",\"postInner\":\"Post_postInner__1xrQE\",\"image\":\"Post_image__3VnIY\",\"postImage\":\"Post_postImage__1GzLD\",\"postInfo\":\"Post_postInfo__3z9kw\",\"username\":\"Post_username__WVFFq\",\"like\":\"Post_like__1bKPS\",\"commentInput\":\"Post_commentInput__2P6SL\",\"footer\":\"Post_footer__2j9mn\",\"likedInner\":\"Post_likedInner__282M0\",\"likedHeader\":\"Post_likedHeader__3LyYO\",\"likedContent\":\"Post_likedContent__2FwMS\",\"likedItem\":\"Post_likedItem__3Shdm\"};","import { initializeApp } from 'firebase/app'\nimport { getStorage } from 'firebase/storage'\nimport { getFirestore, serverTimestamp } from 'firebase/firestore'\nimport { getAuth } from 'firebase/auth'\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_ID,\n}\n\nconst app = initializeApp(firebaseConfig)\n\nconst projectStorage = getStorage(app)\nconst projectFirestore = getFirestore(app)\nconst auth = getAuth(app)\nconst timestamp = serverTimestamp\n\nexport { projectFirestore, projectStorage, auth, timestamp }\n","import {\r\n  createUserWithEmailAndPassword,\r\n  onAuthStateChanged,\r\n  signInWithEmailAndPassword,\r\n  signOut,\r\n} from 'firebase/auth'\r\nimport { doc, setDoc, Timestamp } from 'firebase/firestore'\r\nimport { useEffect } from 'react'\r\nimport { useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { auth, projectFirestore } from '../firebase/config'\r\n\r\nconst useAuth = () => {\r\n  const [user, setuser] = useState(null)\r\n  const [error, setError] = useState(null)\r\n\r\n  const history = useNavigate()\r\n\r\n  useEffect(() => {\r\n    const unsub = onAuthStateChanged(auth, (authUser) => {\r\n      if (authUser) {\r\n        setuser(authUser)\r\n      } else {\r\n        setuser(false)\r\n      }\r\n    })\r\n    return () => unsub()\r\n  }, [])\r\n\r\n  const signup = async (name, email, password) => {\r\n    try {\r\n      const result = await createUserWithEmailAndPassword(auth, email, password)\r\n      await setDoc(doc(projectFirestore, 'users', result.user.uid), {\r\n        uid: result.user.uid,\r\n        name,\r\n        email,\r\n        createdAt: Timestamp.fromDate(new Date()),\r\n      })\r\n      setuser(result.user)\r\n      setError(false)\r\n      history('/')\r\n    } catch (error) {\r\n      setuser(false)\r\n      setError(error.message)\r\n    }\r\n  }\r\n\r\n  const signIn = async (email, password) => {\r\n    try {\r\n      const result = await signInWithEmailAndPassword(auth, email, password)\r\n\r\n      setuser(result.user)\r\n      setError(false)\r\n      history('/')\r\n    } catch (error) {\r\n      setuser(false)\r\n      setError(error.message)\r\n    }\r\n  }\r\n\r\n  const signout = async () => {\r\n    await signOut(auth)\r\n    history('/login')\r\n  }\r\n\r\n  return { user, error, signup, signout, signIn }\r\n}\r\n\r\nexport default useAuth\r\n","import { doc, getDoc, onSnapshot, updateDoc } from 'firebase/firestore'\r\nimport {\r\n  deleteObject,\r\n  getDownloadURL,\r\n  ref,\r\n  uploadBytes,\r\n} from 'firebase/storage'\r\nimport { useEffect, useState } from 'react'\r\nimport { auth, projectFirestore, projectStorage } from '../firebase/config'\r\n\r\nconst useProfile = (id) => {\r\n  const [data, setdata] = useState(null)\r\n\r\n  let currentUser = auth?.currentUser\r\n\r\n  useEffect(() => {\r\n    // if (auth.currentUser)\r\n    if (id) {\r\n      const userRef = doc(\r\n        projectFirestore,\r\n        'users',\r\n        id\r\n        //  || auth?.currentUser?.uid\r\n      )\r\n\r\n      const unsub = onSnapshot(userRef, (doc) => {\r\n        setdata({\r\n          name: doc.data().name,\r\n          email: doc.data().email,\r\n          avatar: doc.data().avatar,\r\n          avatarPath: doc.data().avatarPath,\r\n          createdAt: doc.data().createdAt,\r\n          uid: doc.data().uid,\r\n          subscribes: doc.data().subscribes,\r\n          subscribers: doc.data().subscribers,\r\n        })\r\n      })\r\n      return () => unsub()\r\n    }\r\n  }, [id, currentUser])\r\n\r\n  const getProfileData = async () => {\r\n    const userRef = doc(projectFirestore, 'users', id)\r\n\r\n    const docSnap = await getDoc(userRef)\r\n    return docSnap.data()\r\n  }\r\n\r\n  const uploadImg = async (img, user, setImg) => {\r\n    const userRef = doc(projectFirestore, 'users', id || auth?.currentUser?.uid)\r\n\r\n    const imgRef = ref(\r\n      projectStorage,\r\n      `avatar/${new Date().getTime()} - ${img.name}`\r\n    )\r\n    try {\r\n      if (user.avatarPath) {\r\n        await deleteObject(ref(projectStorage, user.avatarPath))\r\n      }\r\n      const snap = await uploadBytes(imgRef, img)\r\n      const url = await getDownloadURL(ref(projectStorage, snap.ref.fullPath))\r\n\r\n      await updateDoc(userRef, {\r\n        avatar: url,\r\n        avatarPath: snap.ref.fullPath,\r\n      })\r\n      setImg('')\r\n    } catch (err) {\r\n      console.log(err.message)\r\n    }\r\n  }\r\n\r\n  const deleteAvatar = async (user) => {\r\n    try {\r\n      const userRef = doc(\r\n        projectFirestore,\r\n        'users',\r\n        id || auth?.currentUser?.uid\r\n      )\r\n\r\n      const confirm = window.confirm('Delete avatar?')\r\n      if (confirm) {\r\n        const avatarRef = ref(projectStorage, user.avatarPath)\r\n        await deleteObject(avatarRef)\r\n\r\n        await updateDoc(userRef, {\r\n          avatar: '',\r\n          avatarPath: '',\r\n        })\r\n      }\r\n    } catch (error) {\r\n      console.log(error.message)\r\n    }\r\n  }\r\n\r\n  const updateProfileData = async (name) => {\r\n    const userRef = doc(projectFirestore, 'users', id || auth?.currentUser?.uid)\r\n\r\n    try {\r\n      await updateDoc(userRef, {\r\n        name,\r\n      })\r\n    } catch (error) {\r\n      console.log(error.message)\r\n    }\r\n  }\r\n\r\n  return { getProfileData, uploadImg, deleteAvatar, updateProfileData, data }\r\n}\r\n\r\nexport default useProfile\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport const Menu = ({\r\n  user,\r\n  image,\r\n  name,\r\n  signout,\r\n  classname = '',\r\n  open = false,\r\n  handleLinkClick = (r) => r,\r\n}) => {\r\n  let className = classname\r\n\r\n  if (open) {\r\n    className += ' open'\r\n  } else {\r\n    className += ' close'\r\n  }\r\n  return (\r\n    <ul id=\"menu\" className={className}>\r\n      {user ? (\r\n        <>\r\n          <li>\r\n            <span\r\n              className=\"btn\"\r\n              onClick={() => {\r\n                signout()\r\n                handleLinkClick()\r\n              }}\r\n            >\r\n              Выйти\r\n            </span>\r\n          </li>\r\n\r\n          <li>\r\n            <Link to={`/profile/${user.uid}`} onClick={handleLinkClick}>\r\n              {name ? name : 'Profile'}\r\n            </Link>\r\n          </li>\r\n\r\n          <li>\r\n            <div className=\"nav_avatar \">\r\n              <img\r\n                src={\r\n                  image ||\r\n                  'https://imdezcode.files.wordpress.com/2020/02/imdezcode-logo.png'\r\n                }\r\n                alt=\"avatar\"\r\n              />\r\n            </div>\r\n          </li>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <li>\r\n            <Link to=\"/login\" onClick={handleLinkClick}>\r\n              Войти\r\n            </Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"/register\" onClick={handleLinkClick}>\r\n              Зарегистрироваться\r\n            </Link>\r\n          </li>\r\n        </>\r\n      )}\r\n      <li>\r\n        <Link to=\"/images\" onClick={handleLinkClick}>\r\n          Все картинки\r\n        </Link>\r\n      </li>\r\n    </ul>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { Menu } from './Menu'\r\n\r\nconst Burger = ({ open, setOpen }) => {\r\n  console.log(open)\r\n  return (\r\n    <button\r\n      className=\"styled-burger\"\r\n      open={open}\r\n      onClick={() => setOpen(!open)}\r\n    >\r\n      <div\r\n        style={{\r\n          transform: () => (open ? 'rotate(45deg)' : 'rotate(0)'),\r\n        }}\r\n      />\r\n      <div\r\n        style={{\r\n          opacity: () => (open ? '0' : '1'),\r\n          transform: () => (open ? 'translateX(20px)' : 'translateX(0)'),\r\n        }}\r\n      />\r\n      <div\r\n        style={{\r\n          transform: () => (open ? 'rotate(-45deg)' : 'rotate(0)'),\r\n        }}\r\n      />\r\n    </button>\r\n  )\r\n}\r\n\r\nexport const BurgerMenu = ({ user, name, image, signout }) => {\r\n  const [open, setOpen] = useState(false)\r\n  return (\r\n    <div>\r\n      <div>\r\n        <Burger open={open} setOpen={setOpen} />\r\n        <Menu\r\n          classname=\"styled-menu\"\r\n          user={user}\r\n          name={name}\r\n          image={image}\r\n          signout={signout}\r\n          open={open}\r\n          handleLinkClick={() => setOpen(false)}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n// const useOnClickOutside = (ref, handler) => {\r\n//   useEffect(() => {\r\n//     const listener = (event) => {\r\n//       if (!ref.current || ref.current.contains(event.target)) {\r\n//         return\r\n//       }\r\n//       handler(event)\r\n//     }\r\n//     document.addEventListener('mousedown', listener)\r\n\r\n//     return () => {\r\n//       document.removeEventListener('mousedown', listener)\r\n//     }\r\n//   }, [ref, handler])\r\n// }\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { auth } from '../firebase/config'\r\nimport useAuth from '../hooks/useAuth'\r\nimport useProfile from '../hooks/useProfile'\r\nimport { BurgerMenu } from './BurgerMenu'\r\nimport { Menu } from './Menu'\r\n\r\nexport const Navbar = () => {\r\n  const { user, signout } = useAuth(auth?.currentUser?.uid)\r\n  const { data } = useProfile(auth?.currentUser?.uid)\r\n  const [name, setName] = useState('')\r\n  const [windowInnerWidth, setWindowInnerWidth] = useState(window.innerWidth)\r\n  const [image, setImage] = useState('')\r\n\r\n  useEffect(() => {\r\n    setName(data?.name)\r\n    setImage(data?.avatar)\r\n  }, [data])\r\n\r\n  useEffect(() => {\r\n    window.onresize = () => {\r\n      setWindowInnerWidth(window.innerWidth)\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <nav id=\"navbar\">\r\n      <div className=\"nav-wrapper\">\r\n        <div className=\"logo\">\r\n          <Link to=\"/\">\r\n            <div className=\"title\">\r\n              <h1>FireGram</h1>\r\n            </div>\r\n          </Link>\r\n        </div>\r\n        {windowInnerWidth > 768 ? (\r\n          <Menu user={user} name={name} image={image} signout={signout} />\r\n        ) : (\r\n          <BurgerMenu user={user} name={name} image={image} signout={signout} />\r\n        )}\r\n        {/*  */}\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport const Loading = () => {\r\n  return (\r\n    <div style={{ position: 'relative' }}>\r\n      <h2\r\n        style={{\r\n          position: 'fixed',\r\n          top: '50%',\r\n          left: '50%',\r\n          transform: 'translate(-50%, -50%)',\r\n        }}\r\n      >\r\n        Loading...\r\n      </h2>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { onAuthStateChanged } from 'firebase/auth'\r\nimport { createContext, useEffect, useState } from 'react'\r\nimport { auth } from '../firebase/config'\r\nimport { Loading } from '../comps/Loading'\r\n\r\nexport const AuthContext = createContext()\r\nexport const AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null)\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    onAuthStateChanged(auth, (user) => {\r\n      setUser(user)\r\n      setLoading(false)\r\n    })\r\n  }, [])\r\n\r\n  if (loading) {\r\n    return <Loading />\r\n  }\r\n  return (\r\n    <AuthContext.Provider value={{ user }}>{children}</AuthContext.Provider>\r\n  )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { Navigate } from 'react-router-dom'\r\nimport { AuthContext } from '../context/auth'\r\n\r\nexport const PrivateRoute = ({ children }) => {\r\n  const { user } = useContext(AuthContext)\r\n\r\n  if (!user) {\r\n    return <Navigate to={'/login'} />\r\n  }\r\n  return children\r\n}\r\n","import { motion } from 'framer-motion'\nimport React from 'react'\n\nexport const ImageGrid = ({ setSelectedImage, docs }) => {\n  return (\n    <div className=\"img-grid\">\n      {docs ? (\n        docs.map((doc) => (\n          <motion.div\n            layout\n            whileHover={{ opacity: 1 }}\n            className=\"img-wrap\"\n            key={doc.id}\n            onClick={() => setSelectedImage(doc)}\n          >\n            <motion.img\n              src={doc.url}\n              alt=\"uploaded picture\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 1 }}\n            />\n          </motion.div>\n        ))\n      ) : (\n        <div className=\"loader\">\n          <div className=\"loader_inner\"></div>\n        </div>\n      )}\n    </div>\n  )\n}\n","import React from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport { Link } from 'react-router-dom'\r\nimport s from './PostCard.module.css'\r\n\r\nexport const Username = ({\r\n  author,\r\n  style,\r\n  subscribe,\r\n  currentUser,\r\n  unsubscribe,\r\n}) => {\r\n  const onSubscribe = () => {\r\n    subscribe(author)\r\n  }\r\n\r\n  const onUnsubscribe = () => {\r\n    unsubscribe(author)\r\n  }\r\n\r\n  return (\r\n    <motion.div className={s.username} style={style ? style : ''}>\r\n      <motion.img\r\n        src={\r\n          author.avatar ||\r\n          'https://imdezcode.files.wordpress.com/2020/02/imdezcode-logo.png'\r\n        }\r\n        alt=\"avatar\"\r\n      ></motion.img>\r\n      <motion.p>\r\n        <Link to={`/profile/${author.uid}`}> {author.name}</Link>\r\n      </motion.p>\r\n      <motion.div>\r\n        {author.uid !== currentUser.uid && (\r\n          <>\r\n            {subscribe && !currentUser.subscribes.includes(author.uid) ? (\r\n              <motion.span className={s.subscribe} onClick={onSubscribe}>\r\n                Подписаться\r\n              </motion.span>\r\n            ) : (\r\n              <motion.span className={s.subscribe} onClick={onUnsubscribe}>\r\n                Отписаться\r\n              </motion.span>\r\n            )}\r\n          </>\r\n        )}\r\n      </motion.div>\r\n    </motion.div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport s from './PostCard.module.css'\r\n\r\nexport const Image = ({ img }) => {\r\n  return (\r\n    // <motion.div className={s.image}>\r\n    <motion.img className={s.postImage} src={img}></motion.img>\r\n    // </motion.div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport s from './PostCard.module.css'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport const Status = ({\r\n  author,\r\n  setLike,\r\n  selectedImage,\r\n  setSelectedPost,\r\n  postId,\r\n  isAll,\r\n}) => {\r\n  const [like, setlike] = useState(selectedImage.like)\r\n\r\n  const onSetLike = () => {\r\n    setLike(postId, author.uid)\r\n    setlike(selectedImage.like + 1)\r\n  }\r\n\r\n  const onSelect = (e) => {\r\n    setSelectedPost(selectedImage)\r\n  }\r\n\r\n  return (\r\n    <motion.div className={s.status}>\r\n      <motion.div className={s.like}>\r\n        <motion.div className={s.likeItem}>\r\n          <motion.span className={s.likeSymbol} onClick={onSetLike}>\r\n            &#9825;\r\n          </motion.span>\r\n          {/* <motion.img\r\n            src=\"https://cdn4.iconfinder.com/data/icons/app-custom-ui-1/48/Heart-128.png\"\r\n            onClick={onSetLike}\r\n          ></motion.img> */}\r\n        </motion.div>\r\n\r\n        <motion.div className={s.likeItem}>\r\n          <Link\r\n            to={\r\n              !isAll\r\n                ? `/post/${author.uid}/${selectedImage.id}`\r\n                : `/post/${selectedImage.id}`\r\n            }\r\n          >\r\n            <motion.span\r\n              className={s.commentSymbol}\r\n              role=\"img\"\r\n              aria-label=\"comments\"\r\n            >\r\n              {' '}\r\n              💬\r\n            </motion.span>\r\n          </Link>\r\n\r\n          {/* <motion.img src=\"https://cdn4.iconfinder.com/data/icons/app-custom-ui-1/48/Chat_bubble-128.png\"></motion.img> */}\r\n        </motion.div>\r\n      </motion.div>\r\n      <motion.div className={s.statustem}>\r\n        <motion.span onClick={onSelect}>\r\n          Нравится: {like ? like : 0}\r\n        </motion.span>\r\n      </motion.div>\r\n      {/* <div><b>sendifajri</b> The beach is definitely where I feel most at home. It's my oxygen. I forget how much I need it sometimes when I'm away working.</div> */}\r\n      {/* <div className=\"comment\"><b>johndoe</b> So stunning</div> */}\r\n      {/* <motion.div className={s.statustem}>{author.name}</motion.div> */}\r\n    </motion.div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport s from './PostCard.module.css'\r\n\r\nexport const Comment = ({ addComment, postId, author }) => {\r\n  const [text, setText] = useState('')\r\n\r\n  const onInput = (e) => {\r\n    setText(e.target.value)\r\n  }\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault()\r\n    addComment(postId, author, text)\r\n    setText('')\r\n  }\r\n\r\n  return (\r\n    <div className={s.commentInput}>\r\n      <form onSubmit={onSubmit}>\r\n        <input\r\n          onChange={onInput}\r\n          value={text}\r\n          placeholder=\"Add a comment…\"\r\n        ></input>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n","export const formatDate = (date) => {\r\n  let dd = date.getDate()\r\n  if (dd < 10) dd = '0' + dd\r\n\r\n  let mm = date.getMonth() + 1\r\n  if (mm < 10) mm = '0' + mm\r\n\r\n  let yy = date.getFullYear() % 100\r\n  if (yy < 10) yy = '0' + yy\r\n\r\n  return dd + '.' + mm + '.' + yy\r\n}\r\n\r\nexport const formatErrorMessage = (message) => {\r\n  switch (message) {\r\n    case 'Firebase: Error (auth/email-already-in-use).':\r\n      return 'Пользователь с таким email уже существует!'\r\n\r\n    case 'Firebase: Error (auth/invalid-email).':\r\n      return 'Неправильный email!'\r\n\r\n    case 'Firebase: Error (auth/internal-error).':\r\n      return 'Все поля обязательны!'\r\n\r\n    case 'Firebase: Error (auth/user-not-found).':\r\n      return 'Такого пользователя не существвует!'\r\n\r\n    case 'Firebase: Error (auth/wrong-password).':\r\n      return 'Неправильный пароль!'\r\n\r\n    default:\r\n      break\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport { formatDate } from '../../utils'\r\nimport s from './PostCard.module.css'\r\n\r\nexport const Footer = ({ author }) => {\r\n  let date = formatDate(author.createdAt.toDate())\r\n\r\n  return (\r\n    <motion.div className={s.footer}>\r\n      <motion.p className={s.date}>{date}</motion.p>\r\n    </motion.div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport s from './PostModal/Post.module.css'\r\nimport { Username } from './PostModal/Username'\r\n\r\nexport const Liked = ({ likedUsers, setSelectedPost }) => {\r\n  const handleClick = (e) => {\r\n    if (e.target.classList.contains('backdrop')) {\r\n      setSelectedPost(null)\r\n    }\r\n  }\r\n  return (\r\n    <motion.div\r\n      className=\"backdrop\"\r\n      onClick={handleClick}\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n    >\r\n      <motion.div\r\n        className={s.likedInner}\r\n        initial={{ y: '-100vh' }}\r\n        animate={{ y: '10vh' }}\r\n      >\r\n        <motion.div className={s.likedHeader}>\r\n          <h1>Отметки \"Нравится\"</h1>{' '}\r\n        </motion.div>\r\n        <motion.div className={s.likedContent}>\r\n          {likedUsers ? (\r\n            <motion.div>\r\n              {likedUsers.map((i) => {\r\n                return (\r\n                  <div className={s.likedItem} key={i.uid}>\r\n                    <Username author={i} />\r\n                  </div>\r\n                )\r\n              })}\r\n            </motion.div>\r\n          ) : null}\r\n        </motion.div>\r\n      </motion.div>\r\n    </motion.div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\nimport { motion } from 'framer-motion'\nimport s from './PostCard.module.css'\nimport { Username } from './Username'\nimport { Image } from './Image'\nimport { Status } from './Status'\nimport { Comment } from './Comment'\nimport { Footer } from './Footer'\nimport { Liked } from '../Liked'\n\nexport const Modal = ({\n  selectedImage,\n  setSelectedImage,\n  author,\n  setLike,\n  addComment,\n  currentUser,\n  isAll,\n}) => {\n  const handleClick = (e) => {\n    if (e.target.classList.contains('backdrop')) {\n      setSelectedImage(null)\n    }\n  }\n  const [selectedPost, setSelectedPost] = useState(null)\n\n  const onLikePost = () => {\n    setLike(selectedImage.postId, author.uid)\n  }\n\n  return (\n    <motion.div\n      className=\"backdrop\"\n      onClick={handleClick}\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n    >\n      <motion.div\n        className={s.postcard}\n        initial={{ y: '-100vh' }}\n        animate={{ y: '10vh' }}\n      >\n        <Username author={author} currentUser={currentUser} />\n        <Image img={selectedImage.url} />\n        <Status\n          setLike={onLikePost}\n          selectedImage={selectedImage}\n          author={author}\n          setSelectedPost={setSelectedPost}\n          isAll={isAll}\n        />\n        <Comment\n          postId={selectedImage.postId}\n          author={author}\n          addComment={addComment}\n        />\n        <Footer author={author} />\n      </motion.div>\n      {selectedPost && (\n        <Liked\n          likedUsers={selectedImage.likedUsers}\n          setSelectedPost={setSelectedPost}\n        />\n      )}\n    </motion.div>\n  )\n}\n","import {\r\n  collection,\r\n  onSnapshot,\r\n  orderBy,\r\n  query,\r\n  where,\r\n} from 'firebase/firestore'\r\nimport { useState, useEffect } from 'react'\r\nimport { auth, projectFirestore } from '../firebase/config'\r\nimport useProfile from './useProfile'\r\n\r\nconst useFirestore = (col) => {\r\n  const [docs, setDocs] = useState([])\r\n  const { data } = useProfile(auth.currentUser.uid)\r\n\r\n  useEffect(() => {\r\n    if (data?.subscribes) {\r\n      let projectCollection = collection(projectFirestore, col)\r\n\r\n      if (data?.subscribes?.length === 0) {\r\n        setDocs([])\r\n        return\r\n      }\r\n      const q = query(\r\n        projectCollection,\r\n        orderBy('createdAt', 'desc'),\r\n        where('uid', 'in', data.subscribes)\r\n      )\r\n\r\n      const unsub = onSnapshot(q, (doc) => {\r\n        let documents = []\r\n        doc.forEach((d) => {\r\n          documents.push({\r\n            ...d.data(),\r\n            id: d.id,\r\n          })\r\n        })\r\n        setDocs(documents)\r\n      })\r\n      return () => unsub()\r\n    }\r\n    // const userRef = doc(projectFirestore, 'users', auth.currentUser.uid)\r\n    // const userData = await getDoc(userRef)\r\n  }, [col, data])\r\n\r\n  return { docs }\r\n}\r\n\r\nexport default useFirestore\r\n","import {\r\n  collection,\r\n  doc,\r\n  getDoc,\r\n  getDocs,\r\n  onSnapshot,\r\n  query,\r\n  updateDoc,\r\n  where,\r\n} from 'firebase/firestore'\r\nimport { useEffect, useState } from 'react'\r\nimport { auth, projectFirestore } from '../firebase/config'\r\nimport useProfile from './useProfile'\r\n\r\nexport const usePost = (id, userId) => {\r\n  const [docs, setDocs] = useState(null)\r\n  const { data } = useProfile(auth?.currentUser?.uid)\r\n\r\n  useEffect(() => {\r\n    if (id && userId) {\r\n      const docRef = doc(projectFirestore, 'images', userId, 'photo', id)\r\n      const unsub = onSnapshot(docRef, (doc) => {\r\n        setDocs(doc.data())\r\n      })\r\n\r\n      return () => unsub()\r\n    } else if (id) {\r\n      const docRef = doc(projectFirestore, 'images', id)\r\n      const unsub = onSnapshot(docRef, (doc) => {\r\n        setDocs(doc.data())\r\n      })\r\n\r\n      return () => unsub()\r\n    }\r\n  }, [id, userId])\r\n\r\n  const setLike = async (postId, uid) => {\r\n    const q1 = query(\r\n      collection(projectFirestore, 'images'),\r\n      where('postId', '==', postId)\r\n    )\r\n    const querySnapshot1 = await getDocs(q1)\r\n    querySnapshot1.forEach(async (d) => {\r\n      const imgRef = doc(projectFirestore, 'images', d.id)\r\n\r\n      if (!d.data().likedUsers.find((i) => i.uid === data.uid)) {\r\n        try {\r\n          await updateDoc(imgRef, {\r\n            like: (d.data().like += 1) || 1,\r\n            likedUsers: [...d.data().likedUsers, data],\r\n          })\r\n        } catch (error) {\r\n          console.log(error)\r\n        }\r\n      }\r\n    })\r\n\r\n    //images update\r\n    const q2 = query(\r\n      collection(projectFirestore, 'images', uid, 'photo'),\r\n      where('postId', '==', postId)\r\n    )\r\n    const querySnapshot = await getDocs(q2)\r\n    querySnapshot.forEach(async (d) => {\r\n      const imgRef = doc(projectFirestore, 'images', uid, 'photo', d.id)\r\n\r\n      if (!d.data().likedUsers.find((i) => i.uid === data.uid)) {\r\n        try {\r\n          await updateDoc(imgRef, {\r\n            like: (d.data().like += 1) || 1,\r\n            likedUsers: [...d.data().likedUsers, data],\r\n          })\r\n        } catch (error) {\r\n          console.log(error)\r\n        }\r\n      }\r\n    })\r\n\r\n    //update profile info\r\n    const profileRef = doc(projectFirestore, 'users', data.uid)\r\n    const docSnap = await getDoc(profileRef)\r\n\r\n    if (!docSnap.data().likedPosts.includes(postId))\r\n      try {\r\n        await updateDoc(profileRef, {\r\n          likedPosts: docSnap.data().likedPosts\r\n            ? [...docSnap.data().likedPosts, postId]\r\n            : [postId],\r\n        })\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n  }\r\n\r\n  const addComment = async (postId, author, text) => {\r\n    const q1 = query(\r\n      collection(projectFirestore, 'images'),\r\n      where('postId', '==', postId)\r\n    )\r\n    const querySnapshot1 = await getDocs(q1)\r\n    querySnapshot1.forEach(async (d) => {\r\n      const imgRef = doc(projectFirestore, 'images', d.id)\r\n      try {\r\n        await updateDoc(imgRef, {\r\n          comments: [\r\n            ...d.data().comments,\r\n            {\r\n              comment: text,\r\n              author: data,\r\n            },\r\n          ],\r\n        })\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    })\r\n\r\n    //images update\r\n    const q2 = query(\r\n      collection(projectFirestore, 'images', author.uid, 'photo'),\r\n      where('postId', '==', postId)\r\n    )\r\n    const querySnapshot = await getDocs(q2)\r\n    querySnapshot.forEach(async (d) => {\r\n      const imgRef = doc(projectFirestore, 'images', author.uid, 'photo', d.id)\r\n\r\n      try {\r\n        await updateDoc(imgRef, {\r\n          comments: [\r\n            ...d.data().comments,\r\n            {\r\n              comment: text,\r\n              author: data,\r\n            },\r\n          ],\r\n        })\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    })\r\n  }\r\n\r\n  const subscribe = async (author) => {\r\n    const userRef = doc(projectFirestore, 'users', auth?.currentUser?.uid)\r\n    const userData = await getDoc(userRef)\r\n\r\n    if (!userData.data().subscribes.includes(author.uid)) {\r\n      await updateDoc(userRef, {\r\n        subscribes: [...userData.data().subscribes, author.uid],\r\n      })\r\n    }\r\n\r\n    const authorRef = doc(projectFirestore, 'users', author.uid)\r\n    const authorData = await getDoc(authorRef)\r\n\r\n    if (!authorData.data().subscribers.includes(auth?.currentUser?.uid)) {\r\n      await updateDoc(authorRef, {\r\n        subscribers: [...authorData.data().subscribers, auth?.currentUser?.uid],\r\n      })\r\n    }\r\n  }\r\n\r\n  const unsubscribe = async (author) => {\r\n    const userRef = doc(projectFirestore, 'users', auth?.currentUser?.uid)\r\n    const userData = await getDoc(userRef)\r\n\r\n    if (userData.data().subscribes.includes(author.uid)) {\r\n      const subscribes = userData.data().subscribes.filter((i) => {\r\n        return i !== author.uid\r\n      })\r\n\r\n      await updateDoc(userRef, {\r\n        subscribes,\r\n      })\r\n    }\r\n\r\n    const authorRef = doc(projectFirestore, 'users', author.uid)\r\n    const authorData = await getDoc(authorRef)\r\n\r\n    if (authorData.data().subscribers.includes(auth?.currentUser?.uid)) {\r\n      const subscribers = authorData\r\n        .data()\r\n        .subscribers.filter((i) => i !== auth?.currentUser?.uid)\r\n      await updateDoc(authorRef, {\r\n        subscribers,\r\n      })\r\n    }\r\n  }\r\n\r\n  return { docs, setLike, addComment, subscribe, unsubscribe }\r\n}\r\n","import React, { useState } from 'react'\r\nimport { ImageGrid } from '../comps/ImageGrid'\r\nimport { Modal } from '../comps/PostModal/Modal'\r\nimport useSubs from '../hooks/useSubs'\r\nimport { usePost } from '../hooks/usePost'\r\nimport { auth } from '../firebase/config'\r\nimport useProfile from '../hooks/useProfile'\r\n\r\nexport const Home = () => {\r\n  const [selectedImage, setSelectedImage] = useState(null)\r\n  const { docs } = useSubs('images')\r\n  const { setLike } = usePost()\r\n  const { data } = useProfile(auth?.currentUser?.uid)\r\n  let res = docs.filter((i) => i?.email === selectedImage?.email)[0]\r\n\r\n  return (\r\n    <>\r\n      <ImageGrid setSelectedImage={setSelectedImage} docs={docs} />\r\n      {selectedImage && (\r\n        <Modal\r\n          selectedImage={selectedImage}\r\n          setSelectedImage={setSelectedImage}\r\n          author={res}\r\n          setLike={setLike}\r\n          currentUser={data}\r\n        />\r\n      )}\r\n    </>\r\n  )\r\n}\r\n","import { collection, onSnapshot, orderBy, query } from 'firebase/firestore'\nimport { useState, useEffect } from 'react'\nimport { projectFirestore } from '../firebase/config'\n\nconst useFirestore = (col, id) => {\n  const [docs, setDocs] = useState([])\n\n  useEffect(() => {\n    let projectCollection\n    if (id) {\n      projectCollection = collection(projectFirestore, col, id, 'photo')\n    } else {\n      projectCollection = collection(projectFirestore, col)\n    }\n\n    const q = query(projectCollection, orderBy('createdAt', 'desc'))\n\n    const unsub = onSnapshot(q, (doc) => {\n      let documents = []\n      doc.forEach((d) => {\n        documents.push({\n          ...d.data(),\n          id: d.id,\n        })\n      })\n      setDocs(documents)\n    })\n    return () => unsub()\n  }, [col, id])\n\n  return { docs }\n}\n\nexport default useFirestore\n","import React, { useState } from 'react'\r\nimport { ImageGrid } from '../comps/ImageGrid'\r\nimport { Modal } from '../comps/PostModal/Modal'\r\nimport { auth } from '../firebase/config'\r\nimport useFirestore from '../hooks/useFirestore'\r\nimport { usePost } from '../hooks/usePost'\r\nimport useProfile from '../hooks/useProfile'\r\n\r\nexport const Images = () => {\r\n  const [selectedImage, setSelectedImage] = useState(null)\r\n\r\n  const { docs } = useFirestore('images')\r\n  const { setLike, addComment } = usePost()\r\n  const { data } = useProfile(auth?.currentUser?.uid)\r\n  let author = docs.filter((i) => i?.email === selectedImage?.email)[0]\r\n\r\n  return (\r\n    <>\r\n      <ImageGrid setSelectedImage={setSelectedImage} docs={docs} />\r\n      {selectedImage && (\r\n        <Modal\r\n          selectedImage={selectedImage}\r\n          setSelectedImage={setSelectedImage}\r\n          author={author}\r\n          setLike={setLike}\r\n          addComment={addComment}\r\n          currentUser={data}\r\n          isAll={true}\r\n        />\r\n      )}\r\n    </>\r\n  )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport useAuth from '../hooks/useAuth'\r\nimport { formatErrorMessage } from '../utils'\r\nimport s from './Registration.module.css'\r\n\r\nexport const Login = () => {\r\n  const { error: authError, signIn } = useAuth()\r\n\r\n  const [data, setData] = useState({\r\n    email: '',\r\n    password: '',\r\n    error: null,\r\n    loading: false,\r\n  })\r\n\r\n  const { email, password, error, loading } = data\r\n\r\n  const handleChange = (e) => {\r\n    setData({\r\n      ...data,\r\n      [e.target.name]: e.target.value,\r\n    })\r\n  }\r\n  const submitHandle = (e) => {\r\n    e.preventDefault()\r\n    setData({\r\n      ...data,\r\n      error: null,\r\n      loading: true,\r\n    })\r\n    if (!email || !password) {\r\n      setData({\r\n        ...data,\r\n        error: 'Все поля обязательны!',\r\n      })\r\n    }\r\n    signIn(email, password)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (authError) {\r\n      console.log(authError)\r\n      setData({\r\n        ...data,\r\n        error: formatErrorMessage(authError),\r\n        loading: false,\r\n      })\r\n    }\r\n  }, [authError, data])\r\n\r\n  return (\r\n    <div className={s.container}>\r\n      <div className={s.login}>\r\n        <div className={s.content}>\r\n          <h1>Войти</h1>\r\n          <form className={s.form} onSubmit={submitHandle}>\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"email\"\r\n              name=\"email\"\r\n              value={email}\r\n              onChange={handleChange}\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"пароль\"\r\n              name=\"password\"\r\n              value={password}\r\n              onChange={handleChange}\r\n            />\r\n            <span className={s.forget}>Забыли пароль?</span>\r\n            <span className={s.clearfix}></span>\r\n            <button disabled={loading} className={s.btn}>\r\n              {' '}\r\n              {!loading ? 'Войти' : 'Вход...'}\r\n            </button>\r\n            <p>\r\n              Нет аккаунта? - <Link to=\"/register\">Регистрация</Link>\r\n            </p>\r\n          </form>\r\n        </div>\r\n        {error ? <p className=\"error\">{error}</p> : null}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Username } from './Username'\r\n\r\nexport const Comments = ({ comments, currentUser }) => {\r\n  return (\r\n    <div className=\"comments\">\r\n      {comments\r\n        ? comments.map((i, index) => {\r\n            return (\r\n              <div key={index}>\r\n                <Username\r\n                  author={i?.author}\r\n                  currentUser={currentUser}\r\n                  style={{ fontSize: '14px' }}\r\n                />\r\n                <span className=\"comment\">{i.comment}</span>\r\n              </div>\r\n            )\r\n          })\r\n        : null}\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useEffect } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { Footer } from '../comps/PostModal/Footer'\r\nimport { Status } from '../comps/PostModal/Status'\r\nimport { Image } from '../comps/PostModal/Image'\r\nimport { Comment } from '../comps/PostModal/Comment'\r\n\r\nimport { Username } from '../comps/PostModal/Username'\r\nimport { usePost } from '../hooks/usePost'\r\nimport useProfile from '../hooks/useProfile'\r\n\r\nimport s from '../comps/PostModal/Post.module.css'\r\nimport { motion } from 'framer-motion'\r\nimport { Liked } from '../comps/Liked'\r\nimport { Comments } from '../comps/PostModal/Comments'\r\nimport { auth } from '../firebase/config'\r\nimport { Loading } from '../comps/Loading'\r\n\r\n//Нужно полностью переработать\r\n// Принимать в виде пропсов id создателя поста\r\nexport const Post = () => {\r\n  const { id, uid } = useParams()\r\n  const { data: currentUser } = useProfile(auth?.currentUser?.uid)\r\n  const { docs, setLike, addComment, subscribe, unsubscribe } = usePost(id, uid)\r\n  const { data } = useProfile(docs?.uid)\r\n\r\n  const [user, setuser] = useState(null)\r\n  const [post, setPost] = useState(null)\r\n  const [selectedPost, setSelectedPost] = useState(null)\r\n  const [comments, setComments] = useState(null)\r\n\r\n  useEffect(() => {\r\n    setuser(data)\r\n    setPost(docs)\r\n    setComments(docs?.comments)\r\n  }, [docs, id, data, currentUser])\r\n\r\n  const select = (post) => {\r\n    setSelectedPost(post)\r\n  }\r\n\r\n  const onComment = (postId, author, text) => {\r\n    addComment(postId, author, text)\r\n    setComments([...comments, { author, text }])\r\n  }\r\n\r\n  return (\r\n    <div className={s.post}>\r\n      <div className={s.postInner}>\r\n        {post && user ? (\r\n          <>\r\n            <Image img={post.url} />\r\n            <motion.div className={s.postInfo}>\r\n              <Username\r\n                author={user}\r\n                subscribe={subscribe}\r\n                currentUser={currentUser}\r\n                unsubscribe={unsubscribe}\r\n              />\r\n              <Status\r\n                setLike={setLike}\r\n                selectedImage={post}\r\n                author={user}\r\n                setSelectedPost={select}\r\n                postId={id}\r\n              />\r\n              <Footer author={user} />\r\n              <Comments comments={comments} currentUser={currentUser} />\r\n              <Comment\r\n                addComment={onComment}\r\n                author={user}\r\n                postId={post.postId}\r\n              />\r\n            </motion.div>\r\n            {selectedPost && (\r\n              <Liked likedUsers={post.likedUsers} setSelectedPost={select} />\r\n            )}\r\n          </>\r\n        ) : (\r\n          <Loading />\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nconst Camera = () => {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      style={{ width: '25px', height: '25px', cursor: 'pointer' }}\r\n      viewBox=\"0 0 20 20\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        d=\"M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z\"\r\n        clipRule=\"evenodd\"\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default Camera\r\n","import React from 'react'\r\n\r\nconst Delete = ({ deleteImage }) => {\r\n  return (\r\n    <svg\r\n      onClick={deleteImage}\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      style={{\r\n        width: '25px',\r\n        height: '25px',\r\n        cursor: 'pointer',\r\n        color: '#f24957',\r\n      }}\r\n      viewBox=\"0 0 20 20\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\"\r\n        clipRule=\"evenodd\"\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default Delete\r\n","import React from 'react'\r\nimport Camera from './Camera'\r\nimport Delete from './Delete'\r\n\r\nexport const ImageContainer = ({ avatar, deleteImage, setImg }) => {\r\n  return (\r\n    <div className=\"img_container \">\r\n      <img\r\n        src={\r\n          avatar ||\r\n          'https://imdezcode.files.wordpress.com/2020/02/imdezcode-logo.png'\r\n        }\r\n        alt=\"avatar\"\r\n      />\r\n      <div className=\"overlay\">\r\n        {deleteImage && setImg && (\r\n          <div>\r\n            <label htmlFor=\"photo\">\r\n              <Camera />\r\n            </label>\r\n            {avatar ? <Delete deleteImage={deleteImage} /> : null}\r\n            <input\r\n              type=\"file\"\r\n              id=\"photo\"\r\n              accept=\"image/*\"\r\n              style={{ display: 'none' }}\r\n              onChange={(e) => setImg(e.target.files[0])}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { auth } from '../firebase/config'\r\nimport { ImageContainer } from './ImageContainer'\r\n\r\nexport const Sidenav = ({ user, setImg, deleteImage, id, active }) => {\r\n  return (\r\n    <div className=\"sidenav\">\r\n      <div className=\"profile\">\r\n        {setImg && deleteImage ? (\r\n          <ImageContainer\r\n            avatar={user.avatar}\r\n            setImg={setImg}\r\n            deleteImage={deleteImage}\r\n          />\r\n        ) : (\r\n          <ImageContainer avatar={user.avatar} />\r\n        )}\r\n\r\n        <div className=\"name\">{user.name}</div>\r\n        <div className=\"job\">{user.email}</div>\r\n      </div>\r\n\r\n      <div className=\"sidenav-url\">\r\n        <div className=\"url\">\r\n          <Link\r\n            to={`/profile/${id}`}\r\n            className={active === 'profile' ? 'active' : ''}\r\n          >\r\n            Профиль\r\n          </Link>\r\n          <hr align=\"center\" />\r\n        </div>\r\n        {auth?.currentUser?.uid === id && (\r\n          <div className=\"url\">\r\n            <Link\r\n              to=\"/settings\"\r\n              className={active === 'settings' ? 'active' : ''}\r\n            >\r\n              Настройки\r\n            </Link>\r\n            <hr align=\"center\" />\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\n\nconst Title = () => {\n  return (\n    <div className=\"title\">\n      {/* <h1>FireGram</h1> */}\n      <h2>Ваши Картинки</h2>\n      <p>Загрузите изображения.</p>\n    </div>\n  )\n}\n\nexport default Title\n","import { addDoc, collection } from 'firebase/firestore'\nimport { getDownloadURL, ref, uploadBytesResumable } from 'firebase/storage'\nimport { useState, useEffect } from 'react'\nimport {\n  projectStorage,\n  projectFirestore,\n  timestamp,\n  auth,\n} from '../firebase/config'\nimport useProfile from './useProfile'\n\nconst useStorage = (file, postId) => {\n  const [progress, setProgress] = useState(0)\n  const [error, setError] = useState(null)\n  const [url, setUrl] = useState(null)\n  const { data } = useProfile(auth.currentUser.uid)\n\n  useEffect(() => {\n    const storageRef = ref(projectStorage, file.name)\n    const collectionRef = collection(\n      projectFirestore,\n      'images',\n      auth.currentUser.uid,\n      'photo'\n    )\n\n    const uploadTask = uploadBytesResumable(storageRef, file)\n    uploadTask.on(\n      'state_changed',\n      (snap) => {\n        let percentage = (snap.bytesTransferred / snap.totalBytes) * 100\n        setProgress(percentage)\n      },\n      (err) => setError(err),\n      async () => {\n        const url = await getDownloadURL(uploadTask.snapshot.ref)\n        // const url = getDownloadURL(storageRef)\n        const createdAt = timestamp()\n        if (data) {\n          await addDoc(collectionRef, {\n            url,\n            createdAt,\n            avatar: data?.avatar || '',\n            name: data?.name || '',\n            email: data?.email || '',\n            uid: auth.currentUser.uid,\n            like: 0,\n            postId,\n            likedUsers: [],\n          })\n\n          setUrl(url)\n        }\n      }\n    )\n    const allImgRef = collection(projectFirestore, 'images')\n\n    return async () => {\n      if (data) {\n        const createdAt = timestamp()\n        const url = await getDownloadURL(uploadTask.snapshot.ref)\n        await addDoc(allImgRef, {\n          url,\n          createdAt,\n          avatar: data?.avatar || '',\n          name: data?.name || '',\n          email: data?.email || '',\n          uid: auth.currentUser.uid,\n          like: 0,\n          postId,\n          likedUsers: [],\n          comments: [],\n        })\n      }\n    }\n  }, [file, data, postId])\n\n  return { progress, url, error }\n}\n\nexport default useStorage\n","import React, { useEffect } from 'react'\nimport useStorage from '../hooks/useStorage'\nimport { motion } from 'framer-motion'\n\nexport const ProgressBar = ({ file, setFile }) => {\n  const postId = Math.random() * 100\n  const { url, progress } = useStorage(file, postId)\n\n  useEffect(() => {\n    if (url) {\n      setFile(null)\n    }\n  }, [url, setFile])\n\n  return (\n    <motion.div\n      initial={{ width: 0 }}\n      animate={{ width: progress + '%' }}\n      className=\"progress-bar\"\n    ></motion.div>\n  )\n}\n","import React, { useState } from 'react'\nimport { ProgressBar } from './ProgressBar'\n\nexport const UploadForm = () => {\n  const [file, setFile] = useState(null)\n  const [error, setError] = useState(null)\n\n  const types = ['image/png', 'image/jpeg']\n  const changeHandler = (e) => {\n    let selected = e.target.files[0]\n    if (selected && types.includes(selected.type)) {\n      setFile(selected)\n      setError('')\n    } else {\n      setFile(null)\n      setError('Please select an image file (png or jpeg)')\n    }\n  }\n  return (\n    <form className=\"upload_form\">\n      <label>\n        <input type=\"file\" onChange={changeHandler} />\n        <span>+</span>\n      </label>\n\n      <div className=\"output\">\n        {error && <div className=\"error\">{error}</div>}\n        {file && <div>{file.name}</div>}\n        {file && <ProgressBar file={file} setFile={setFile} />}\n      </div>\n    </form>\n  )\n}\n","import React from 'react'\r\nimport { useEffect } from 'react'\r\nimport { useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { ImageGrid } from '../comps/ImageGrid'\r\nimport { Modal } from '../comps/PostModal/Modal'\r\nimport { Sidenav } from '../comps/Sidenav'\r\nimport Title from '../comps/Title'\r\nimport { UploadForm } from '../comps/UploadForm'\r\nimport { auth } from '../firebase/config'\r\nimport useFirestore from '../hooks/useFirestore'\r\nimport { usePost } from '../hooks/usePost'\r\n\r\nimport useProfile from '../hooks/useProfile'\r\n\r\nexport const Profile = () => {\r\n  const { id } = useParams()\r\n\r\n  const [selectedImage, setSelectedImage] = useState(null)\r\n  const [user, setuser] = useState(null)\r\n\r\n  const [docsList, setDocsList] = useState([])\r\n\r\n  const { docs } = useFirestore('images', id)\r\n  const { data } = useProfile(id)\r\n  const { setLike, addComment } = usePost(id)\r\n\r\n  useEffect(() => {\r\n    setuser(data)\r\n    setDocsList(docs)\r\n  }, [data, id, docs])\r\n\r\n  return (\r\n    <div>\r\n      {user && id ? (\r\n        <>\r\n          <Sidenav user={user} active={'profile'} id={id} />\r\n          {id === auth?.currentUser?.uid && (\r\n            <>\r\n              <Title />\r\n              <UploadForm />\r\n            </>\r\n          )}\r\n\r\n          <div>\r\n            <ImageGrid\r\n              setSelectedImage={setSelectedImage}\r\n              // id={id}\r\n              docs={docsList}\r\n            />\r\n            {selectedImage && (\r\n              <Modal\r\n                selectedImage={selectedImage}\r\n                setSelectedImage={setSelectedImage}\r\n                author={user}\r\n                setLike={setLike}\r\n                addComment={addComment}\r\n                currentUser={data}\r\n              />\r\n            )}\r\n          </div>\r\n        </>\r\n      ) : (\r\n        'No data'\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport const AuthButton = ({ className, disabled, children }) => {\r\n  return (\r\n    <button className={className} disabled={disabled}>\r\n      {children}\r\n    </button>\r\n  )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useState } from 'react'\r\nimport { AuthButton } from '../comps/AuthButton'\r\nimport useAuth from '../hooks/useAuth'\r\nimport { formatErrorMessage } from '../utils'\r\nimport s from './Registration.module.css'\r\n\r\nexport const Register = () => {\r\n  const [data, setData] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    error: null,\r\n    loading: false,\r\n  })\r\n\r\n  const { signup, error: authError } = useAuth()\r\n\r\n  const handleChange = (e) => {\r\n    setData({\r\n      ...data,\r\n      [e.target.name]: e.target.value,\r\n    })\r\n  }\r\n\r\n  const submitHandle = (e) => {\r\n    e.preventDefault()\r\n    setData({\r\n      ...data,\r\n      loading: true,\r\n    })\r\n    signup(name, email, password)\r\n    setData({\r\n      name: '',\r\n      email: '',\r\n      password: '',\r\n      error: null,\r\n      loading: false,\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (authError) {\r\n      setData({\r\n        ...data,\r\n        error: formatErrorMessage(authError),\r\n        loading: false,\r\n      })\r\n    }\r\n  }, [authError, data])\r\n\r\n  const { name, email, password, error, loading } = data\r\n\r\n  return (\r\n    <div className={s.container}>\r\n      <div className={s.register}>\r\n        <div className={s.content}>\r\n          <h1>Регистрация</h1>\r\n\r\n          <form onSubmit={submitHandle} className={s.form}>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Имя\"\r\n              name=\"name\"\r\n              value={name}\r\n              onChange={handleChange}\r\n            />\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"email\"\r\n              name=\"email\"\r\n              value={email}\r\n              onChange={handleChange}\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Пароль\"\r\n              name=\"password\"\r\n              value={password}\r\n              onChange={handleChange}\r\n            />\r\n            <span className={s.clearfix}></span>\r\n            <AuthButton className={s.btn} disabled={loading}>\r\n              {!loading ? 'Зарегистрироваться' : 'Регистрация...'}\r\n            </AuthButton>\r\n          </form>\r\n        </div>\r\n        {error ? <p className=\"error\">{error}</p> : null}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport useProfile from '../hooks/useProfile'\r\n\r\nexport const ProfileMain = ({ user }) => {\r\n  const { updateProfileData } = useProfile()\r\n  const [isEditing, setIsEditing] = useState(false)\r\n  const [name, setName] = useState(user.name)\r\n\r\n  const onEditHandle = () => {\r\n    setIsEditing(!isEditing)\r\n  }\r\n\r\n  const inputHandle = (e) => {\r\n    setName(e.target.value)\r\n  }\r\n\r\n  const onEdit = () => {\r\n    updateProfileData(name)\r\n    setIsEditing(false)\r\n  }\r\n\r\n  return (\r\n    <div className=\"main\">\r\n      <h2>Информация о профиле</h2>\r\n      <div className=\"card\">\r\n        <div className=\"card-body\">\r\n          <i className=\"fa fa-pen fa-xs edit\" onClick={onEditHandle}></i>\r\n          <div>\r\n            {isEditing ? (\r\n              <div>\r\n                <input value={name} onChange={inputHandle} className=\"input\" />\r\n                <button className=\"button\" onClick={onEdit}>\r\n                  Изменить\r\n                </button>\r\n              </div>\r\n            ) : (\r\n              <p>\r\n                Имя: <span>{user.name}</span>\r\n              </p>\r\n            )}\r\n          </div>\r\n          <div>\r\n            <p>\r\n              Email: <span>{user.email}</span>\r\n            </p>\r\n          </div>\r\n          <div>\r\n            <p>\r\n              Зарегистрирован:\r\n              <span>{user.createdAt.toDate().toDateString()}</span>{' '}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* <h2>SOCIAL MEDIA</h2>\r\n            <div className=\"card\">\r\n              <div className=\"card-body\">\r\n                <i className=\"fa fa-pen fa-xs edit\"></i>\r\n                <div className=\"social-media\">\r\n                  <span className=\"fa-stack fa-sm\">\r\n                    <i className=\"fas fa-circle fa-stack-2x\"></i>\r\n                    <i className=\"fab fa-facebook fa-stack-1x fa-inverse\"></i>\r\n                  </span>\r\n                  <span className=\"fa-stack fa-sm\">\r\n                    <i className=\"fas fa-circle fa-stack-2x\"></i>\r\n                    <i className=\"fab fa-twitter fa-stack-1x fa-inverse\"></i>\r\n                  </span>\r\n                  <span className=\"fa-stack fa-sm\">\r\n                    <i className=\"fas fa-circle fa-stack-2x\"></i>\r\n                    <i className=\"fab fa-instagram fa-stack-1x fa-inverse\"></i>\r\n                  </span>\r\n                  <span className=\"fa-stack fa-sm\">\r\n                    <i className=\"fas fa-circle fa-stack-2x\"></i>\r\n                    <i className=\"fab fa-invision fa-stack-1x fa-inverse\"></i>\r\n                  </span>\r\n                  <span className=\"fa-stack fa-sm\">\r\n                    <i className=\"fas fa-circle fa-stack-2x\"></i>\r\n                    <i className=\"fab fa-github fa-stack-1x fa-inverse\"></i>\r\n                  </span>\r\n                  <span className=\"fa-stack fa-sm\">\r\n                    <i className=\"fas fa-circle fa-stack-2x\"></i>\r\n                    <i className=\"fab fa-whatsapp fa-stack-1x fa-inverse\"></i>\r\n                  </span>\r\n                  <span className=\"fa-stack fa-sm\">\r\n                    <i className=\"fas fa-circle fa-stack-2x\"></i>\r\n                    <i className=\"fab fa-snapchat fa-stack-1x fa-inverse\"></i>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div> */}\r\n    </div>\r\n  )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Sidenav } from '../comps/Sidenav'\r\nimport useProfile from '../hooks/useProfile'\r\nimport { ProfileMain } from '../comps/ProfileMain'\r\nimport { auth } from '../firebase/config'\r\n\r\nexport const Settings = () => {\r\n  const [user, setuser] = useState(null)\r\n  const [img, setImg] = useState('')\r\n  const { uploadImg, deleteAvatar, data } = useProfile(auth.currentUser.uid)\r\n\r\n  useEffect(() => {\r\n    setuser(data)\r\n\r\n    if (img) {\r\n      uploadImg(img, user, setImg)\r\n    }\r\n  }, [img, data])\r\n\r\n  const onDeleteAvatar = () => {\r\n    deleteAvatar(user)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {user ? (\r\n        <>\r\n          <Sidenav\r\n            user={user}\r\n            setImg={setImg}\r\n            deleteImage={onDeleteAvatar}\r\n            active={'settings'}\r\n            id={auth.currentUser.uid}\r\n          />\r\n          <ProfileMain user={user} />\r\n        </>\r\n      ) : (\r\n        'No data'\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\nimport { Route, Routes } from 'react-router-dom'\nimport { Navbar } from './comps/Navbar'\nimport { PrivateRoute } from './comps/PrivateRoute'\nimport { AuthProvider } from './context/auth'\nimport useAuth from './hooks/useAuth'\nimport { Home } from './pages/Home'\nimport { Images } from './pages/Images'\nimport { Login } from './pages/Login'\nimport { Post } from './pages/Post'\nimport { Profile } from './pages/Profile'\nimport { Register } from './pages/Register'\nimport { Settings } from './pages/Settings'\n\nfunction App() {\n  const { user } = useAuth()\n\n  return (\n    <div className=\"App\">\n      <AuthProvider>\n        <Navbar />\n        <Routes>\n          <Route\n            path=\"/\"\n            element={\n              <PrivateRoute user={user}>\n                <Home />\n              </PrivateRoute>\n            }\n          />\n          <Route\n            path=\"/firegram-main\"\n            element={\n              <PrivateRoute user={user}>\n                <Home />\n              </PrivateRoute>\n            }\n          />\n          <Route path=\"/images\" element={<Images />} />\n          <Route path=\"/login\" element={<Login />} />\n          <Route path=\"/register\" element={<Register />} />\n          <Route path=\"/profile/:id\" element={<Profile />} />\n          <Route path=\"/post/:uid/:id\" element={<Post />} />\n          <Route path=\"/post/:id\" element={<Post />} />\n\n          <Route\n            path=\"/settings\"\n            element={\n              <PrivateRoute user={user}>\n                <Settings />\n              </PrivateRoute>\n            }\n          />\n        </Routes>\n      </AuthProvider>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}