{"version":3,"sources":["comps/PostModal/PostCard.module.css","pages/Registration.module.css","comps/PostModal/Post.module.css","firebase/config.js","hooks/useAuth.js","hooks/useProfile.js","comps/Menu.js","comps/BurgerMenu.js","comps/Navbar.js","comps/Loading.js","context/auth.js","comps/PrivateRoute.js","hooks/useSubs.js","hooks/usePost.js","comps/ImageGrid.js","comps/PostModal/Username.js","comps/PostModal/Image.js","comps/PostModal/Status.js","comps/PostModal/Comment.js","utils.js","comps/PostModal/Footer.js","comps/Liked.js","comps/PostModal/Modal.js","comps/ImageContent.js","pages/Home.js","hooks/useFirestore.js","pages/Images.js","pages/Login.js","comps/PostModal/Comments.js","pages/Post.js","comps/Camera.js","comps/Delete.js","comps/ImageContainer.js","comps/Sidenav.js","comps/Title.js","hooks/useStorage.js","comps/ProgressBar.js","comps/UploadForm.js","pages/Profile.js","comps/AuthButton.js","pages/Register.js","comps/ProfileMain.js","pages/Settings.js","App.js","index.js"],"names":["module","exports","app","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","projectStorage","getStorage","projectFirestore","getFirestore","auth","getAuth","timestamp","serverTimestamp","useAuth","useState","user","setuser","error","setError","history","useNavigate","useEffect","unsub","onAuthStateChanged","authUser","signup","name","email","password","a","createUserWithEmailAndPassword","result","setDoc","doc","uid","createdAt","Timestamp","fromDate","Date","message","signIn","signInWithEmailAndPassword","signout","signOut","useProfile","id","data","setdata","currentUser","userRef","onSnapshot","avatar","avatarPath","subscribes","subscribers","getProfileData","getDoc","docSnap","uploadImg","img","setImg","imgRef","ref","getTime","deleteObject","uploadBytes","snap","getDownloadURL","fullPath","url","updateDoc","console","log","deleteAvatar","window","confirm","avatarRef","updateProfileData","Menu","image","classname","open","r","handleLinkClick","className","to","onClick","src","alt","Burger","setOpen","style","transform","opacity","BurgerMenu","Navbar","setName","innerWidth","windowInnerWidth","setWindowInnerWidth","setImage","onresize","Loading","position","top","left","AuthContext","createContext","AuthProvider","children","setUser","loading","setLoading","Provider","value","PrivateRoute","useContext","useFirestore","col","docs","setDocs","projectCollection","collection","length","q","query","orderBy","where","documents","forEach","d","push","usePost","userId","docRef","setLike","postId","q1","getDocs","likedUsers","find","i","like","q2","profileRef","likedPosts","includes","addComment","author","text","comments","comment","subscribe","userData","authorRef","authorData","unsubscribe","filter","ImageGrid","setSelectedImage","map","motion","div","layout","whileHover","key","initial","animate","transition","delay","Username","s","username","p","span","Image","postImage","Status","selectedImage","isAll","setSelectedPost","setlike","status","likeItem","likeSymbol","commentSymbol","role","aria-label","statustem","e","Comment","setText","commentInput","onSubmit","preventDefault","onChange","target","placeholder","formatErrorMessage","Footer","date","dd","getDate","mm","getMonth","yy","getFullYear","formatDate","toDate","footer","Liked","classList","contains","likedInner","y","likedHeader","likedContent","likedItem","Modal","selectedPost","postcard","ImageContent","Home","useSubs","res","Images","Login","authError","setData","handleChange","container","login","content","form","type","forget","clearfix","disabled","btn","Comments","index","fontSize","Post","useParams","post","setPost","setComments","select","postInner","postImgBig","postInfo","Camera","xmlns","width","height","cursor","viewBox","fill","fillRule","clipRule","Delete","deleteImage","color","ImageContainer","htmlFor","accept","display","files","Sidenav","active","align","Title","useStorage","file","progress","setProgress","setUrl","storageRef","collectionRef","uploadTask","uploadBytesResumable","on","percentage","bytesTransferred","totalBytes","err","snapshot","addDoc","allImgRef","ProgressBar","setFile","Math","random","UploadForm","types","selected","Profile","docsList","setDocsList","AuthButton","Register","register","ProfileMain","isEditing","setIsEditing","toDateString","Settings","App","path","element","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bbe05d22.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"postContainer\":\"PostCard_postContainer__eVvEg\",\"postcard\":\"PostCard_postcard__3jYhV\",\"commentInput\":\"PostCard_commentInput__2evis\",\"postImage\":\"PostCard_postImage__EGj4i\",\"username\":\"PostCard_username__3iMx3\",\"status\":\"PostCard_status__27axQ\",\"like\":\"PostCard_like__3-00p\",\"likeItem\":\"PostCard_likeItem__3g2ji\",\"statustem\":\"PostCard_statustem__2k7LH\",\"likeCount\":\"PostCard_likeCount__3hHMd\",\"likeSymbol\":\"PostCard_likeSymbol__4cP5u\",\"commentSymbol\":\"PostCard_commentSymbol__1fmTm\",\"footer\":\"PostCard_footer__ngHMI\",\"date\":\"PostCard_date__1iNiB\",\"image\":\"PostCard_image__dioD9\",\"subscribe\":\"PostCard_subscribe__1AGWM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Registration_form__1LjYZ\",\"btn\":\"Registration_btn__2FA-f\",\"container\":\"Registration_container__1n0Nr\",\"content\":\"Registration_content__1E9Cw\",\"login\":\"Registration_login__1QBzr\",\"register\":\"Registration_register__3j0km\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__29K8Q\",\"postInner\":\"Post_postInner__1xrQE\",\"postImgBig\":\"Post_postImgBig__Q4oLS\",\"image\":\"Post_image__3VnIY\",\"postImage\":\"Post_postImage__1GzLD\",\"postInfo\":\"Post_postInfo__3z9kw\",\"username\":\"Post_username__WVFFq\",\"like\":\"Post_like__1bKPS\",\"commentInput\":\"Post_commentInput__2P6SL\",\"footer\":\"Post_footer__2j9mn\",\"likedInner\":\"Post_likedInner__282M0\",\"likedHeader\":\"Post_likedHeader__3LyYO\",\"likedContent\":\"Post_likedContent__2FwMS\",\"likedItem\":\"Post_likedItem__3Shdm\"};","import { initializeApp } from 'firebase/app'\nimport { getStorage } from 'firebase/storage'\nimport { getFirestore, serverTimestamp } from 'firebase/firestore'\nimport { getAuth } from 'firebase/auth'\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_ID,\n}\n\nconst app = initializeApp(firebaseConfig)\n\nconst projectStorage = getStorage(app)\nconst projectFirestore = getFirestore(app)\nconst auth = getAuth(app)\nconst timestamp = serverTimestamp\n\nexport { projectFirestore, projectStorage, auth, timestamp }\n","import {\r\n  createUserWithEmailAndPassword,\r\n  onAuthStateChanged,\r\n  signInWithEmailAndPassword,\r\n  signOut,\r\n} from 'firebase/auth'\r\nimport { doc, setDoc, Timestamp } from 'firebase/firestore'\r\nimport { useEffect } from 'react'\r\nimport { useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { auth, projectFirestore } from '../firebase/config'\r\n\r\nconst useAuth = () => {\r\n  const [user, setuser] = useState(null)\r\n  const [error, setError] = useState(null)\r\n\r\n  const history = useNavigate()\r\n\r\n  useEffect(() => {\r\n    const unsub = onAuthStateChanged(auth, (authUser) => {\r\n      if (authUser) {\r\n        setuser(authUser)\r\n      } else {\r\n        setuser(false)\r\n      }\r\n    })\r\n    return () => unsub()\r\n  }, [])\r\n\r\n  const signup = async (name, email, password) => {\r\n    try {\r\n      const result = await createUserWithEmailAndPassword(auth, email, password)\r\n      await setDoc(doc(projectFirestore, 'users', result.user.uid), {\r\n        uid: result.user.uid,\r\n        name,\r\n        email,\r\n        createdAt: Timestamp.fromDate(new Date()),\r\n      })\r\n      setuser(result.user)\r\n      setError(false)\r\n      history('/')\r\n    } catch (error) {\r\n      setuser(false)\r\n      setError(error.message)\r\n    }\r\n  }\r\n\r\n  const signIn = async (email, password) => {\r\n    try {\r\n      const result = await signInWithEmailAndPassword(auth, email, password)\r\n\r\n      setuser(result.user)\r\n      setError(false)\r\n      history('/')\r\n    } catch (error) {\r\n      setuser(false)\r\n      setError(error.message)\r\n    }\r\n  }\r\n\r\n  const signout = async () => {\r\n    await signOut(auth)\r\n    history('/login')\r\n  }\r\n\r\n  return { user, error, signup, signout, signIn }\r\n}\r\n\r\nexport default useAuth\r\n","import { doc, getDoc, onSnapshot, updateDoc } from 'firebase/firestore'\r\nimport {\r\n  deleteObject,\r\n  getDownloadURL,\r\n  ref,\r\n  uploadBytes,\r\n} from 'firebase/storage'\r\nimport { useEffect, useState } from 'react'\r\nimport { auth, projectFirestore, projectStorage } from '../firebase/config'\r\n\r\nconst useProfile = (id) => {\r\n  const [data, setdata] = useState(null)\r\n\r\n  let currentUser = auth?.currentUser\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      const userRef = doc(projectFirestore, 'users', id)\r\n\r\n      const unsub = onSnapshot(userRef, (doc) => {\r\n        setdata({\r\n          name: doc.data().name || '',\r\n          email: doc.data().email || '',\r\n          avatar: doc.data().avatar || '',\r\n          avatarPath: doc.data().avatarPath || '',\r\n          createdAt: doc.data().createdAt || '',\r\n          uid: doc.data().uid || '',\r\n          subscribes: doc.data().subscribes || '',\r\n          subscribers: doc.data().subscribers || '',\r\n        })\r\n      })\r\n      return () => unsub()\r\n    }\r\n  }, [id, currentUser])\r\n\r\n  const getProfileData = async () => {\r\n    const userRef = doc(projectFirestore, 'users', id)\r\n\r\n    const docSnap = await getDoc(userRef)\r\n    return docSnap.data()\r\n  }\r\n\r\n  const uploadImg = async (img, user, setImg) => {\r\n    const userRef = doc(projectFirestore, 'users', id || auth?.currentUser?.uid)\r\n\r\n    const imgRef = ref(\r\n      projectStorage,\r\n      `avatar/${new Date().getTime()} - ${img.name}`\r\n    )\r\n    try {\r\n      if (user.avatarPath) {\r\n        await deleteObject(ref(projectStorage, user.avatarPath))\r\n      }\r\n      const snap = await uploadBytes(imgRef, img)\r\n      const url = await getDownloadURL(ref(projectStorage, snap.ref.fullPath))\r\n\r\n      await updateDoc(userRef, {\r\n        avatar: url,\r\n        avatarPath: snap.ref.fullPath,\r\n      })\r\n      setImg('')\r\n    } catch (err) {\r\n      console.log(err.message)\r\n    }\r\n  }\r\n\r\n  const deleteAvatar = async (user) => {\r\n    try {\r\n      const userRef = doc(\r\n        projectFirestore,\r\n        'users',\r\n        id || auth?.currentUser?.uid\r\n      )\r\n\r\n      const confirm = window.confirm('Delete avatar?')\r\n      if (confirm) {\r\n        const avatarRef = ref(projectStorage, user.avatarPath)\r\n        await deleteObject(avatarRef)\r\n\r\n        await updateDoc(userRef, {\r\n          avatar: '',\r\n          avatarPath: '',\r\n        })\r\n      }\r\n    } catch (error) {\r\n      console.log(error.message)\r\n    }\r\n  }\r\n\r\n  const updateProfileData = async (name) => {\r\n    const userRef = doc(projectFirestore, 'users', id || auth?.currentUser?.uid)\r\n\r\n    try {\r\n      await updateDoc(userRef, {\r\n        name,\r\n      })\r\n    } catch (error) {\r\n      console.log(error.message)\r\n    }\r\n  }\r\n\r\n  return { getProfileData, uploadImg, deleteAvatar, updateProfileData, data }\r\n}\r\n\r\nexport default useProfile\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport const Menu = ({\r\n  user,\r\n  image,\r\n  name,\r\n  classname = '',\r\n  open = false,\r\n  signout = (r) => r,\r\n  handleLinkClick = (r) => r,\r\n}) => {\r\n  let className = classname\r\n\r\n  if (open) {\r\n    className += ' open'\r\n  } else {\r\n    className += ' close'\r\n  }\r\n  return (\r\n    <div id=\"menu\" className={className}>\r\n      <ul>\r\n        {user ? (\r\n          <>\r\n            <li>\r\n              <Link to=\"/images\" onClick={handleLinkClick}>\r\n                Все картинки\r\n              </Link>\r\n            </li>\r\n\r\n            <li>\r\n              <div className=\"nav_avatar \">\r\n                <img\r\n                  src={\r\n                    image ||\r\n                    'https://imdezcode.files.wordpress.com/2020/02/imdezcode-logo.png'\r\n                  }\r\n                  alt=\"avatar\"\r\n                />\r\n              </div>\r\n            </li>\r\n\r\n            <li>\r\n              <Link to={`/profile/${user.uid}`} onClick={handleLinkClick}>\r\n                {name ? name : 'Profile'}\r\n              </Link>\r\n            </li>\r\n\r\n            <li>\r\n              <Link\r\n                to=\"/login\"\r\n                className=\"btn\"\r\n                onClick={() => {\r\n                  signout()\r\n                  handleLinkClick()\r\n                }}\r\n              >\r\n                Выйти\r\n              </Link>\r\n            </li>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <li>\r\n              <Link to=\"/login\" onClick={handleLinkClick}>\r\n                Войти\r\n              </Link>\r\n            </li>\r\n            <li>\r\n              <Link to=\"/register\" onClick={handleLinkClick}>\r\n                Зарегистрироваться\r\n              </Link>\r\n            </li>\r\n          </>\r\n        )}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { Menu } from './Menu'\r\n\r\nconst Burger = ({ open, setOpen = (r) => r }) => {\r\n  return (\r\n    <button\r\n      className=\"styled-burger\"\r\n      open={open}\r\n      onClick={() => setOpen(!open)}\r\n    >\r\n      <div\r\n        style={{\r\n          transform: () => (open ? 'rotate(45deg)' : 'rotate(0)'),\r\n        }}\r\n      />\r\n      <div\r\n        style={{\r\n          opacity: () => (open ? '0' : '1'),\r\n          transform: () => (open ? 'translateX(20px)' : 'translateX(0)'),\r\n        }}\r\n      />\r\n      <div\r\n        style={{\r\n          transform: () => (open ? 'rotate(-45deg)' : 'rotate(0)'),\r\n        }}\r\n      />\r\n    </button>\r\n  )\r\n}\r\n\r\nexport const BurgerMenu = ({ user, name, image, signout }) => {\r\n  const [open, setOpen] = useState(false)\r\n  return (\r\n    <div>\r\n      <div>\r\n        <Burger open={open} setOpen={setOpen} />\r\n        <Menu\r\n          classname=\"styled-menu\"\r\n          user={user}\r\n          name={name}\r\n          image={image}\r\n          signout={signout}\r\n          open={open}\r\n          handleLinkClick={() => setOpen(false)}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n// const useOnClickOutside = (ref, handler) => {\r\n//   useEffect(() => {\r\n//     const listener = (event) => {\r\n//       if (!ref.current || ref.current.contains(event.target)) {\r\n//         return\r\n//       }\r\n//       handler(event)\r\n//     }\r\n//     document.addEventListener('mousedown', listener)\r\n\r\n//     return () => {\r\n//       document.removeEventListener('mousedown', listener)\r\n//     }\r\n//   }, [ref, handler])\r\n// }\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { auth } from '../firebase/config'\r\nimport useAuth from '../hooks/useAuth'\r\nimport useProfile from '../hooks/useProfile'\r\nimport { BurgerMenu } from './BurgerMenu'\r\nimport { Menu } from './Menu'\r\n\r\nexport const Navbar = () => {\r\n  const { user, signout } = useAuth(auth?.currentUser?.uid)\r\n  const { data } = useProfile(auth?.currentUser?.uid)\r\n  const [name, setName] = useState('')\r\n  const [windowInnerWidth, setWindowInnerWidth] = useState(window.innerWidth)\r\n  const [image, setImage] = useState('')\r\n\r\n  useEffect(() => {\r\n    setName(data?.name)\r\n    setImage(data?.avatar)\r\n  }, [data])\r\n\r\n  useEffect(() => {\r\n    window.onresize = () => {\r\n      setWindowInnerWidth(window.innerWidth)\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <nav id=\"navbar\">\r\n      <div className=\"nav-wrapper\">\r\n        <div className=\"logo\">\r\n          <Link to=\"/\">\r\n            <div className=\"title\">\r\n              <h1>FireGram</h1>\r\n            </div>\r\n          </Link>\r\n        </div>\r\n        {windowInnerWidth > 768 ? (\r\n          <Menu user={user} name={name} image={image} signout={signout} />\r\n        ) : (\r\n          <BurgerMenu user={user} name={name} image={image} signout={signout} />\r\n        )}\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport const Loading = () => {\r\n  return (\r\n    <div style={{ position: 'relative' }}>\r\n      <h2\r\n        style={{\r\n          position: 'fixed',\r\n          top: '50%',\r\n          left: '50%',\r\n          transform: 'translate(-50%, -50%)',\r\n        }}\r\n      >\r\n        Loading...\r\n      </h2>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { onAuthStateChanged } from 'firebase/auth'\r\nimport { createContext, useEffect, useState } from 'react'\r\nimport { auth } from '../firebase/config'\r\nimport { Loading } from '../comps/Loading'\r\n\r\nexport const AuthContext = createContext()\r\nexport const AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null)\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    onAuthStateChanged(auth, (user) => {\r\n      setUser(user)\r\n      setLoading(false)\r\n    })\r\n  }, [])\r\n\r\n  if (loading) {\r\n    return <Loading />\r\n  }\r\n  return (\r\n    <AuthContext.Provider value={{ user }}>{children}</AuthContext.Provider>\r\n  )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { Navigate } from 'react-router-dom'\r\nimport { AuthContext } from '../context/auth'\r\n\r\nexport const PrivateRoute = ({ children }) => {\r\n  const { user } = useContext(AuthContext)\r\n\r\n  if (!user) {\r\n    return <Navigate to={'/login'} />\r\n  }\r\n  return children\r\n}\r\n","import {\r\n  collection,\r\n  onSnapshot,\r\n  orderBy,\r\n  query,\r\n  where,\r\n} from 'firebase/firestore'\r\nimport { useState, useEffect } from 'react'\r\nimport { auth, projectFirestore } from '../firebase/config'\r\nimport useProfile from './useProfile'\r\n\r\nconst useFirestore = (col) => {\r\n  const [docs, setDocs] = useState([])\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  const { data } = useProfile(auth.currentUser.uid)\r\n\r\n  useEffect(() => {\r\n    if (data?.subscribes) {\r\n      let projectCollection = collection(projectFirestore, col)\r\n\r\n      if (data?.subscribes?.length === 0) {\r\n        setDocs([])\r\n        setLoading(false)\r\n        return\r\n      }\r\n      const q = query(\r\n        projectCollection,\r\n        orderBy('createdAt', 'desc'),\r\n        where('uid', 'in', data.subscribes)\r\n      )\r\n\r\n      const unsub = onSnapshot(q, (doc) => {\r\n        let documents = []\r\n        doc.forEach((d) => {\r\n          documents.push({\r\n            ...d.data(),\r\n            id: d.id,\r\n          })\r\n        })\r\n        setDocs(documents)\r\n        setLoading(false)\r\n      })\r\n      return () => unsub()\r\n    }\r\n    // const userRef = doc(projectFirestore, 'users', auth.currentUser.uid)\r\n    // const userData = await getDoc(userRef)\r\n  }, [col, data])\r\n\r\n  return { docs, loading }\r\n}\r\n\r\nexport default useFirestore\r\n","import {\r\n  collection,\r\n  doc,\r\n  getDoc,\r\n  getDocs,\r\n  onSnapshot,\r\n  query,\r\n  updateDoc,\r\n  where,\r\n} from 'firebase/firestore'\r\nimport { useEffect, useState } from 'react'\r\nimport { auth, projectFirestore } from '../firebase/config'\r\nimport useProfile from './useProfile'\r\n\r\nexport const usePost = (id, userId) => {\r\n  const [docs, setDocs] = useState(null)\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  const { data } = useProfile(auth?.currentUser?.uid)\r\n\r\n  useEffect(() => {\r\n    if (id && userId) {\r\n      const docRef = doc(projectFirestore, 'images', userId, 'photo', id)\r\n      const unsub = onSnapshot(docRef, (doc) => {\r\n        setDocs(doc.data())\r\n        setLoading(false)\r\n      })\r\n\r\n      return () => unsub()\r\n    } else if (id) {\r\n      const docRef = doc(projectFirestore, 'images', id)\r\n      const unsub = onSnapshot(docRef, (doc) => {\r\n        setDocs(doc.data())\r\n        setLoading(false)\r\n      })\r\n\r\n      return () => unsub()\r\n    }\r\n  }, [id, userId])\r\n\r\n  const setLike = async (postId, uid) => {\r\n    const q1 = query(\r\n      collection(projectFirestore, 'images'),\r\n      where('postId', '==', postId)\r\n    )\r\n    const querySnapshot1 = await getDocs(q1)\r\n    querySnapshot1.forEach(async (d) => {\r\n      const imgRef = doc(projectFirestore, 'images', d.id)\r\n\r\n      if (!d.data().likedUsers.find((i) => i.uid === data.uid)) {\r\n        try {\r\n          await updateDoc(imgRef, {\r\n            like: (d.data().like += 1) || 1,\r\n            likedUsers: [...d.data().likedUsers, data],\r\n          })\r\n        } catch (error) {\r\n          console.log(error)\r\n        }\r\n      }\r\n    })\r\n\r\n    //images update\r\n    const q2 = query(\r\n      collection(projectFirestore, 'images', uid, 'photo'),\r\n      where('postId', '==', postId)\r\n    )\r\n    const querySnapshot = await getDocs(q2)\r\n    querySnapshot.forEach(async (d) => {\r\n      const imgRef = doc(projectFirestore, 'images', uid, 'photo', d.id)\r\n\r\n      if (!d.data().likedUsers.find((i) => i.uid === data.uid)) {\r\n        try {\r\n          await updateDoc(imgRef, {\r\n            like: (d.data().like += 1) || 1,\r\n            likedUsers: [...d.data().likedUsers, data],\r\n          })\r\n        } catch (error) {\r\n          console.log(error)\r\n        }\r\n      }\r\n    })\r\n\r\n    //update profile info\r\n    const profileRef = doc(projectFirestore, 'users', data.uid)\r\n    const docSnap = await getDoc(profileRef)\r\n\r\n    let likedPosts = !docSnap.data().likedPosts || []\r\n\r\n    if (\r\n      !docSnap.data().likedPosts ||\r\n      !docSnap.data().likedPosts.includes(postId)\r\n    )\r\n      try {\r\n        await updateDoc(profileRef, {\r\n          likedPosts: docSnap.data().likedPosts\r\n            ? [...likedPosts, postId]\r\n            : [postId],\r\n        })\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n  }\r\n\r\n  const addComment = async (postId, author, text) => {\r\n    const q1 = query(\r\n      collection(projectFirestore, 'images'),\r\n      where('postId', '==', postId)\r\n    )\r\n    const querySnapshot1 = await getDocs(q1)\r\n    querySnapshot1.forEach(async (d) => {\r\n      const imgRef = doc(projectFirestore, 'images', d.id)\r\n      try {\r\n        if (d.data()) {\r\n          await updateDoc(imgRef, {\r\n            comments: [\r\n              ...d.data().comments,\r\n              {\r\n                comment: text,\r\n                author: data,\r\n              },\r\n            ],\r\n          })\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    })\r\n\r\n    //images update\r\n    const q2 = query(\r\n      collection(projectFirestore, 'images', author.uid, 'photo'),\r\n      where('postId', '==', postId)\r\n    )\r\n    const querySnapshot = await getDocs(q2)\r\n    querySnapshot.forEach(async (d) => {\r\n      const imgRef = doc(projectFirestore, 'images', author.uid, 'photo', d.id)\r\n      let comments = d.data().comments ? d.data().comments : []\r\n      try {\r\n        if (d.data()) {\r\n          await updateDoc(imgRef, {\r\n            comments: [\r\n              ...comments,\r\n              {\r\n                comment: text,\r\n                author: data,\r\n              },\r\n            ],\r\n          })\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    })\r\n  }\r\n\r\n  const subscribe = async (author) => {\r\n    const userRef = doc(projectFirestore, 'users', auth?.currentUser?.uid)\r\n    const userData = await getDoc(userRef)\r\n\r\n    let subscribes = userData.data().subscribes || []\r\n\r\n    if (\r\n      !userData.data().subscribes ||\r\n      !userData.data().subscribes.includes(author.uid)\r\n    ) {\r\n      await updateDoc(userRef, {\r\n        subscribes: [...subscribes, author.uid],\r\n      })\r\n    }\r\n\r\n    const authorRef = doc(projectFirestore, 'users', author.uid)\r\n    const authorData = await getDoc(authorRef)\r\n\r\n    let subscribers = authorData.data().subscribers || []\r\n\r\n    if (\r\n      !authorData.data().subscribers ||\r\n      !authorData.data().subscribers.includes(auth?.currentUser?.uid)\r\n    ) {\r\n      await updateDoc(authorRef, {\r\n        subscribers: [...subscribers, auth?.currentUser?.uid],\r\n      })\r\n    }\r\n  }\r\n\r\n  const unsubscribe = async (author) => {\r\n    const userRef = doc(projectFirestore, 'users', auth?.currentUser?.uid)\r\n    const userData = await getDoc(userRef)\r\n\r\n    if (userData.data().subscribes.includes(author.uid)) {\r\n      const subscribes = userData.data().subscribes.filter((i) => {\r\n        return i !== author.uid\r\n      })\r\n\r\n      await updateDoc(userRef, {\r\n        subscribes,\r\n      })\r\n    }\r\n\r\n    const authorRef = doc(projectFirestore, 'users', author.uid)\r\n    const authorData = await getDoc(authorRef)\r\n\r\n    if (authorData.data().subscribers.includes(auth?.currentUser?.uid)) {\r\n      const subscribers = authorData\r\n        .data()\r\n        .subscribers.filter((i) => i !== auth?.currentUser?.uid)\r\n      await updateDoc(authorRef, {\r\n        subscribers,\r\n      })\r\n    }\r\n  }\r\n\r\n  return { docs, loading, setLike, addComment, subscribe, unsubscribe }\r\n}\r\n","import { motion } from 'framer-motion'\nimport React from 'react'\n\nexport const ImageGrid = ({\n  docs,\n  loading = false,\n  setSelectedImage = (r) => r,\n}) => {\n  if (loading) {\n    return (\n      <div className=\"loader\">\n        <div className=\"loader_inner\"></div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"img-grid\">\n      {docs ? (\n        docs.map((doc) => (\n          <motion.div\n            layout\n            whileHover={{ opacity: 1 }}\n            className=\"img-wrap\"\n            key={doc.id}\n            onClick={() => setSelectedImage(doc)}\n          >\n            <motion.img\n              src={doc.url}\n              alt=\"uploaded picture\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 1 }}\n            />\n          </motion.div>\n        ))\n      ) : (\n        <div className=\"loader\">\n          <div className=\"loader_inner\"></div>\n        </div>\n      )}\n    </div>\n  )\n}\n","import React from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport { Link } from 'react-router-dom'\r\nimport s from './PostCard.module.css'\r\n\r\nexport const Username = ({\r\n  author,\r\n  style,\r\n  currentUser,\r\n  subscribe = (r) => r,\r\n  unsubscribe = (r) => r,\r\n}) => {\r\n  const onSubscribe = () => {\r\n    subscribe(author)\r\n  }\r\n\r\n  const onUnsubscribe = () => {\r\n    unsubscribe(author)\r\n  }\r\n\r\n  return (\r\n    <motion.div className={s.username} style={style ? style : ''}>\r\n      <motion.img\r\n        src={\r\n          author.avatar ||\r\n          'https://imdezcode.files.wordpress.com/2020/02/imdezcode-logo.png'\r\n        }\r\n        alt=\"avatar\"\r\n      ></motion.img>\r\n      <motion.p>\r\n        <Link to={`/profile/${author.uid}`}> {author.name}</Link>\r\n      </motion.p>\r\n      <motion.div>\r\n        {author?.uid !== currentUser?.uid && (\r\n          <>\r\n            {subscribe && !currentUser?.subscribes?.includes(author?.uid) ? (\r\n              <motion.span className={s.subscribe} onClick={onSubscribe}>\r\n                Подписаться\r\n              </motion.span>\r\n            ) : (\r\n              <motion.span className={s.subscribe} onClick={onUnsubscribe}>\r\n                Отписаться\r\n              </motion.span>\r\n            )}\r\n          </>\r\n        )}\r\n      </motion.div>\r\n    </motion.div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport s from './PostCard.module.css'\r\n\r\nexport const Image = ({ img }) => {\r\n  return (\r\n    // <motion.div className={s.image}>\r\n    <motion.img className={s.postImage} src={img}></motion.img>\r\n    // </motion.div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport s from './PostCard.module.css'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport const Status = ({\r\n  author,\r\n  selectedImage,\r\n  postId,\r\n  isAll,\r\n  setLike = (r) => r,\r\n  setSelectedPost = (r) => r,\r\n}) => {\r\n  const [like, setlike] = useState(selectedImage.like)\r\n\r\n  const onSetLike = () => {\r\n    setLike(postId, author.uid)\r\n    setlike(selectedImage.like + 1)\r\n  }\r\n\r\n  const onSelect = (e) => {\r\n    setSelectedPost(selectedImage)\r\n  }\r\n\r\n  return (\r\n    <motion.div className={s.status}>\r\n      <motion.div className={s.like}>\r\n        <motion.div className={s.likeItem}>\r\n          <motion.span className={s.likeSymbol} onClick={onSetLike}>\r\n            &#9825;\r\n          </motion.span>\r\n          {/* <motion.img\r\n            src=\"https://cdn4.iconfinder.com/data/icons/app-custom-ui-1/48/Heart-128.png\"\r\n            onClick={onSetLike}\r\n          ></motion.img> */}\r\n        </motion.div>\r\n\r\n        <motion.div className={s.likeItem}>\r\n          <Link\r\n            to={\r\n              !isAll\r\n                ? `/post/${author.uid}/${selectedImage.id}`\r\n                : `/post/${selectedImage.id}`\r\n            }\r\n          >\r\n            <motion.span\r\n              className={s.commentSymbol}\r\n              role=\"img\"\r\n              aria-label=\"comments\"\r\n            >\r\n              {' '}\r\n              💬\r\n            </motion.span>\r\n          </Link>\r\n\r\n          {/* <motion.img src=\"https://cdn4.iconfinder.com/data/icons/app-custom-ui-1/48/Chat_bubble-128.png\"></motion.img> */}\r\n        </motion.div>\r\n      </motion.div>\r\n      <motion.div className={s.statustem}>\r\n        <motion.span onClick={onSelect}>\r\n          Нравится: {like ? like : 0}\r\n        </motion.span>\r\n      </motion.div>\r\n      {/* <div><b>sendifajri</b> The beach is definitely where I feel most at home. It's my oxygen. I forget how much I need it sometimes when I'm away working.</div> */}\r\n      {/* <div className=\"comment\"><b>johndoe</b> So stunning</div> */}\r\n      {/* <motion.div className={s.statustem}>{author.name}</motion.div> */}\r\n    </motion.div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport s from './PostCard.module.css'\r\n\r\nexport const Comment = ({ postId, author, addComment = (r) => r }) => {\r\n  const [text, setText] = useState('')\r\n\r\n  const onInput = (e) => {\r\n    setText(e.target.value)\r\n  }\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault()\r\n    addComment(postId, author, text)\r\n    setText('')\r\n  }\r\n\r\n  return (\r\n    <div className={s.commentInput}>\r\n      <form onSubmit={onSubmit}>\r\n        <input\r\n          onChange={onInput}\r\n          value={text}\r\n          placeholder=\"Add a comment…\"\r\n        ></input>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n","export const formatDate = (date) => {\r\n  let dd = date.getDate()\r\n  if (dd < 10) dd = '0' + dd\r\n\r\n  let mm = date.getMonth() + 1\r\n  if (mm < 10) mm = '0' + mm\r\n\r\n  let yy = date.getFullYear() % 100\r\n  if (yy < 10) yy = '0' + yy\r\n\r\n  return dd + '.' + mm + '.' + yy\r\n}\r\n\r\nexport const formatErrorMessage = (message) => {\r\n  switch (message) {\r\n    case 'Firebase: Error (auth/email-already-in-use).':\r\n      return 'Пользователь с таким email уже существует!'\r\n\r\n    case 'Firebase: Error (auth/invalid-email).':\r\n      return 'Неправильный email!'\r\n\r\n    case 'Firebase: Error (auth/internal-error).':\r\n      return 'Все поля обязательны!'\r\n\r\n    case 'Firebase: Error (auth/user-not-found).':\r\n      return 'Такого пользователя не существвует!'\r\n\r\n    case 'Firebase: Error (auth/wrong-password).':\r\n      return 'Неправильный пароль!'\r\n\r\n    default:\r\n      break\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport { formatDate } from '../../utils'\r\nimport s from './PostCard.module.css'\r\n\r\nexport const Footer = ({ author }) => {\r\n  let date = formatDate(author.createdAt.toDate())\r\n\r\n  return (\r\n    <motion.div className={s.footer}>\r\n      <motion.p className={s.date}>{date}</motion.p>\r\n    </motion.div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport s from './PostModal/Post.module.css'\r\nimport { Username } from './PostModal/Username'\r\n\r\nexport const Liked = ({ likedUsers, setSelectedPost = (r) => r }) => {\r\n  const handleClick = (e) => {\r\n    if (e.target.classList.contains('backdrop')) {\r\n      setSelectedPost(null)\r\n    }\r\n  }\r\n  return (\r\n    <motion.div\r\n      className=\"backdrop\"\r\n      onClick={handleClick}\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n    >\r\n      <motion.div\r\n        className={s.likedInner}\r\n        initial={{ y: '-100vh' }}\r\n        animate={{ y: '10vh' }}\r\n      >\r\n        <motion.div className={s.likedHeader}>\r\n          <h1>Отметки \"Нравится\"</h1>{' '}\r\n        </motion.div>\r\n        <motion.div className={s.likedContent}>\r\n          {likedUsers ? (\r\n            <>\r\n              {likedUsers.map((i) => {\r\n                return (\r\n                  <div className={s.likedItem} key={i.uid}>\r\n                    <Username author={i} />\r\n                  </div>\r\n                )\r\n              })}\r\n            </>\r\n          ) : null}\r\n        </motion.div>\r\n      </motion.div>\r\n    </motion.div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\nimport { motion } from 'framer-motion'\nimport s from './PostCard.module.css'\nimport { Username } from './Username'\nimport { Image } from './Image'\nimport { Status } from './Status'\nimport { Comment } from './Comment'\nimport { Footer } from './Footer'\nimport { Liked } from '../Liked'\n\nexport const Modal = ({\n  selectedImage,\n  author,\n  currentUser,\n  isAll,\n  setSelectedImage = (r) => r,\n  subscribe = (r) => r,\n  unsubscribe = (r) => r,\n  setLike = (r) => r,\n  addComment = (r) => r,\n}) => {\n  const handleClick = (e) => {\n    if (e.target.classList.contains('backdrop')) {\n      setSelectedImage(null)\n    }\n  }\n  const [selectedPost, setSelectedPost] = useState(null)\n\n  const onLikePost = () => {\n    setLike(selectedImage.postId, author.uid)\n  }\n\n  return (\n    <motion.div\n      className=\"backdrop\"\n      onClick={handleClick}\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n    >\n      <motion.div\n        className={s.postcard}\n        initial={{ y: '-100vh' }}\n        animate={{ y: '10vh' }}\n      >\n        <Username\n          author={author}\n          currentUser={currentUser}\n          subscribe={subscribe}\n          unsubscribe={unsubscribe}\n        />\n        <Image img={selectedImage.url} />\n        <Status\n          setLike={onLikePost}\n          selectedImage={selectedImage}\n          author={author}\n          setSelectedPost={setSelectedPost}\n          isAll={isAll}\n        />\n        <Comment\n          postId={selectedImage.postId}\n          author={author}\n          addComment={addComment}\n        />\n        <Footer author={author} />\n      </motion.div>\n      {selectedPost && (\n        <Liked\n          likedUsers={selectedImage.likedUsers}\n          setSelectedPost={setSelectedPost}\n        />\n      )}\n    </motion.div>\n  )\n}\n","import React from 'react'\r\nimport { ImageGrid } from './ImageGrid'\r\nimport { Modal } from './PostModal/Modal'\r\n\r\nexport const ImageContent = ({\r\n  docs,\r\n  loading,\r\n  selectedImage,\r\n  author,\r\n  data,\r\n  isAll = false,\r\n  setSelectedImage = (r) => r,\r\n  setLike = (r) => r,\r\n  addComment = (r) => r,\r\n  subscribe = (r) => r,\r\n  unsubscribe = (r) => r,\r\n}) => {\r\n  return (\r\n    <>\r\n      <ImageGrid\r\n        setSelectedImage={setSelectedImage}\r\n        docs={docs}\r\n        loading={loading}\r\n      />\r\n      {selectedImage && (\r\n        <Modal\r\n          selectedImage={selectedImage}\r\n          setSelectedImage={setSelectedImage}\r\n          author={author}\r\n          setLike={setLike}\r\n          addComment={addComment}\r\n          currentUser={data}\r\n          isAll={isAll}\r\n          subscribe={subscribe}\r\n          unsubscribe={unsubscribe}\r\n        />\r\n      )}\r\n    </>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { Loading } from '../comps/Loading'\r\nimport useSubs from '../hooks/useSubs'\r\nimport { usePost } from '../hooks/usePost'\r\nimport { auth } from '../firebase/config'\r\nimport useProfile from '../hooks/useProfile'\r\nimport { ImageContent } from '../comps/ImageContent'\r\n\r\nexport const Home = () => {\r\n  const [selectedImage, setSelectedImage] = useState(null)\r\n  const { docs, loading } = useSubs('images')\r\n  const { setLike, addComment, subscribe, unsubscribe } = usePost()\r\n  const { data } = useProfile(auth?.currentUser?.uid)\r\n\r\n  let res = docs.filter((i) => i?.email === selectedImage?.email)[0]\r\n\r\n  if (loading) {\r\n    return <Loading />\r\n  }\r\n\r\n  //Сделать сообщение что нет подписок\r\n\r\n  return (\r\n    <>\r\n      {docs.length !== 0 ? (\r\n        <ImageContent\r\n          setSelectedImage={setSelectedImage}\r\n          docs={docs}\r\n          selectedImage={selectedImage}\r\n          loading={loading}\r\n          author={res}\r\n          currentUser={data}\r\n          isAll={true}\r\n          subscribe={subscribe}\r\n          unsubscribe={unsubscribe}\r\n          setLike={setLike}\r\n          addComment={addComment}\r\n        />\r\n      ) : (\r\n        'Нет подписок:('\r\n      )}\r\n    </>\r\n  )\r\n}\r\n","import { collection, onSnapshot, orderBy, query } from 'firebase/firestore'\nimport { useState, useEffect } from 'react'\nimport { projectFirestore } from '../firebase/config'\n\nconst useFirestore = (col, id) => {\n  const [docs, setDocs] = useState([])\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    let projectCollection\n    if (id) {\n      projectCollection = collection(projectFirestore, col, id, 'photo')\n    } else {\n      projectCollection = collection(projectFirestore, col)\n    }\n\n    const q = query(projectCollection, orderBy('createdAt', 'desc'))\n\n    const unsub = onSnapshot(q, (doc) => {\n      let documents = []\n      doc.forEach((d) => {\n        documents.push({\n          ...d.data(),\n          id: d.id,\n        })\n      })\n      setDocs(documents)\n      setLoading(false)\n    })\n    return () => unsub()\n  }, [col, id])\n\n  return { docs, loading }\n}\n\nexport default useFirestore\n","import React, { useState } from 'react'\r\nimport { ImageContent } from '../comps/ImageContent'\r\nimport { Loading } from '../comps/Loading'\r\nimport { auth } from '../firebase/config'\r\nimport useFirestore from '../hooks/useFirestore'\r\nimport { usePost } from '../hooks/usePost'\r\nimport useProfile from '../hooks/useProfile'\r\n\r\nexport const Images = () => {\r\n  const [selectedImage, setSelectedImage] = useState(null)\r\n\r\n  const { docs, loading } = useFirestore('images')\r\n  const { setLike, addComment, subscribe, unsubscribe } = usePost()\r\n  const { data } = useProfile(auth?.currentUser?.uid)\r\n  let author = docs.filter((i) => i?.email === selectedImage?.email)[0]\r\n\r\n  if (loading) {\r\n    return <Loading />\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <ImageContent\r\n        docs={docs}\r\n        loading={loading}\r\n        selectedImage={selectedImage}\r\n        author={author}\r\n        currentUser={data}\r\n        isAll={true}\r\n        subscribe={subscribe}\r\n        unsubscribe={unsubscribe}\r\n        setSelectedImage={setSelectedImage}\r\n        setLike={setLike}\r\n        addComment={addComment}\r\n      />\r\n    </>\r\n  )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport useAuth from '../hooks/useAuth'\r\nimport { formatErrorMessage } from '../utils'\r\nimport s from './Registration.module.css'\r\n\r\nexport const Login = () => {\r\n  const { error: authError, signIn } = useAuth()\r\n\r\n  const [data, setData] = useState({\r\n    email: '',\r\n    password: '',\r\n    error: null,\r\n    loading: false,\r\n  })\r\n\r\n  const { email, password, error, loading } = data\r\n\r\n  const handleChange = (e) => {\r\n    setData({\r\n      ...data,\r\n      [e.target.name]: e.target.value,\r\n    })\r\n  }\r\n  const submitHandle = (e) => {\r\n    e.preventDefault()\r\n    setData({\r\n      ...data,\r\n      error: null,\r\n      loading: true,\r\n    })\r\n    if (!email || !password) {\r\n      setData({\r\n        ...data,\r\n        error: 'Все поля обязательны!',\r\n      })\r\n    }\r\n    signIn(email, password)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (authError) {\r\n      setData({\r\n        ...data,\r\n        error: formatErrorMessage(authError),\r\n        loading: false,\r\n      })\r\n    }\r\n  }, [authError, data])\r\n\r\n  return (\r\n    <div className={s.container}>\r\n      <div className={s.login}>\r\n        <div className={s.content}>\r\n          <h1>Войти</h1>\r\n          <form className={s.form} onSubmit={submitHandle}>\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"email\"\r\n              name=\"email\"\r\n              value={email}\r\n              onChange={handleChange}\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"пароль\"\r\n              name=\"password\"\r\n              value={password}\r\n              onChange={handleChange}\r\n            />\r\n            <span className={s.forget}>Забыли пароль?</span>\r\n            <span className={s.clearfix}></span>\r\n            <button disabled={loading} className={s.btn}>\r\n              {' '}\r\n              {!loading ? 'Войти' : 'Вход...'}\r\n            </button>\r\n            <p>\r\n              Нет аккаунта? - <Link to=\"/register\">Регистрация</Link>\r\n            </p>\r\n          </form>\r\n        </div>\r\n        {error ? <p className=\"error\">{error}</p> : null}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Username } from './Username'\r\n\r\nexport const Comments = ({ comments, currentUser }) => {\r\n  return (\r\n    <div className=\"comments\">\r\n      {comments\r\n        ? comments.map((i, index) => {\r\n            return (\r\n              <div key={index}>\r\n                <Username\r\n                  author={i?.author}\r\n                  currentUser={currentUser}\r\n                  style={{ fontSize: '14px' }}\r\n                />\r\n                <span className=\"comment\">{i.comment}</span>\r\n              </div>\r\n            )\r\n          })\r\n        : null}\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useEffect } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { Footer } from '../comps/PostModal/Footer'\r\nimport { Status } from '../comps/PostModal/Status'\r\nimport { Image } from '../comps/PostModal/Image'\r\nimport { Comment } from '../comps/PostModal/Comment'\r\n\r\nimport { Username } from '../comps/PostModal/Username'\r\nimport { usePost } from '../hooks/usePost'\r\nimport useProfile from '../hooks/useProfile'\r\n\r\nimport s from '../comps/PostModal/Post.module.css'\r\nimport { motion } from 'framer-motion'\r\nimport { Liked } from '../comps/Liked'\r\nimport { Comments } from '../comps/PostModal/Comments'\r\nimport { auth } from '../firebase/config'\r\nimport { Loading } from '../comps/Loading'\r\n\r\nexport const Post = () => {\r\n  const { id, uid } = useParams()\r\n  const { data: currentUser } = useProfile(auth?.currentUser?.uid)\r\n  const { docs, loading, setLike, addComment, subscribe, unsubscribe } =\r\n    usePost(id, uid)\r\n  const { data } = useProfile(docs?.uid)\r\n\r\n  const [user, setuser] = useState(null)\r\n  const [post, setPost] = useState(null)\r\n  const [selectedPost, setSelectedPost] = useState(null)\r\n  const [comments, setComments] = useState(null)\r\n\r\n  useEffect(() => {\r\n    setuser(data)\r\n    setPost(docs)\r\n    setComments(docs?.comments)\r\n  }, [docs, id, data, currentUser])\r\n\r\n  const select = (post) => {\r\n    setSelectedPost(post)\r\n  }\r\n\r\n  const onComment = (postId, author, text) => {\r\n    addComment(postId, author, text)\r\n    setComments([...comments, { author, text }])\r\n  }\r\n\r\n  if (loading) {\r\n    return <Loading />\r\n  }\r\n\r\n  return (\r\n    <div className={s.post}>\r\n      <div className={s.postInner}>\r\n        {post && user ? (\r\n          <>\r\n            <motion.div className={s.postImgBig}>\r\n              <Image img={post.url} />\r\n            </motion.div>\r\n\r\n            <motion.div className={s.postInfo}>\r\n              <Username\r\n                author={user}\r\n                subscribe={subscribe}\r\n                currentUser={currentUser}\r\n                unsubscribe={unsubscribe}\r\n              />\r\n              <Status\r\n                setLike={setLike}\r\n                selectedImage={post}\r\n                author={user}\r\n                setSelectedPost={select}\r\n                postId={id}\r\n              />\r\n              <Footer author={user} />\r\n              <Comments comments={comments} currentUser={currentUser} />\r\n              <Comment\r\n                addComment={onComment}\r\n                author={user}\r\n                postId={post.postId}\r\n              />\r\n            </motion.div>\r\n            {selectedPost && (\r\n              <Liked likedUsers={post.likedUsers} setSelectedPost={select} />\r\n            )}\r\n          </>\r\n        ) : (\r\n          <Loading />\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nconst Camera = () => {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      style={{ width: '25px', height: '25px', cursor: 'pointer' }}\r\n      viewBox=\"0 0 20 20\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        d=\"M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z\"\r\n        clipRule=\"evenodd\"\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default Camera\r\n","import React from 'react'\r\n\r\nconst Delete = ({ deleteImage = (r) => r }) => {\r\n  return (\r\n    <svg\r\n      onClick={deleteImage}\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      style={{\r\n        width: '25px',\r\n        height: '25px',\r\n        cursor: 'pointer',\r\n        color: '#f24957',\r\n      }}\r\n      viewBox=\"0 0 20 20\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\"\r\n        clipRule=\"evenodd\"\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default Delete\r\n","import React from 'react'\r\nimport Camera from './Camera'\r\nimport Delete from './Delete'\r\n\r\nexport const ImageContainer = ({\r\n  avatar,\r\n  deleteImage = (r) => r,\r\n  setImg = (r) => r,\r\n}) => {\r\n  return (\r\n    <div className=\"img_container \">\r\n      <img\r\n        src={\r\n          avatar ||\r\n          'https://imdezcode.files.wordpress.com/2020/02/imdezcode-logo.png'\r\n        }\r\n        alt=\"avatar\"\r\n      />\r\n      <div className=\"overlay\">\r\n        {deleteImage && setImg && (\r\n          <div>\r\n            <label htmlFor=\"photo\">\r\n              <Camera />\r\n            </label>\r\n            {avatar ? <Delete deleteImage={deleteImage} /> : null}\r\n            <input\r\n              type=\"file\"\r\n              id=\"photo\"\r\n              accept=\"image/*\"\r\n              style={{ display: 'none' }}\r\n              onChange={(e) => setImg(e.target.files[0])}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { auth } from '../firebase/config'\r\nimport { ImageContainer } from './ImageContainer'\r\n\r\nexport const Sidenav = ({\r\n  user,\r\n  id,\r\n  active,\r\n  setImg = (r) => r,\r\n  deleteImage = (r) => r,\r\n}) => {\r\n  return (\r\n    <div className=\"sidenav\">\r\n      <div className=\"profile\">\r\n        {setImg && deleteImage ? (\r\n          <ImageContainer\r\n            avatar={user.avatar}\r\n            setImg={setImg}\r\n            deleteImage={deleteImage}\r\n          />\r\n        ) : (\r\n          <ImageContainer avatar={user.avatar} />\r\n        )}\r\n\r\n        <div className=\"name\">{user.name}</div>\r\n        <div className=\"job\">{user.email}</div>\r\n      </div>\r\n\r\n      <div className=\"sidenav-url\">\r\n        <div className=\"url\">\r\n          <Link\r\n            to={`/profile/${id}`}\r\n            className={active === 'profile' ? 'active' : ''}\r\n          >\r\n            Профиль\r\n          </Link>\r\n          <hr align=\"center\" />\r\n        </div>\r\n        {auth?.currentUser?.uid === id && (\r\n          <div className=\"url\">\r\n            <Link\r\n              to=\"/settings\"\r\n              className={active === 'settings' ? 'active' : ''}\r\n            >\r\n              Настройки\r\n            </Link>\r\n            <hr align=\"center\" />\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\n\nconst Title = () => {\n  return (\n    <div className=\"title\">\n      {/* <h1>FireGram</h1> */}\n      <h2>Ваши Картинки</h2>\n      <p>Загрузите изображения.</p>\n    </div>\n  )\n}\n\nexport default Title\n","import { addDoc, collection } from 'firebase/firestore'\nimport { getDownloadURL, ref, uploadBytesResumable } from 'firebase/storage'\nimport { useState, useEffect } from 'react'\nimport {\n  projectStorage,\n  projectFirestore,\n  timestamp,\n  auth,\n} from '../firebase/config'\nimport useProfile from './useProfile'\n\nconst useStorage = (file, postId) => {\n  const [progress, setProgress] = useState(0)\n  const [error, setError] = useState(null)\n  const [url, setUrl] = useState(null)\n  const { data } = useProfile(auth.currentUser.uid)\n\n  useEffect(() => {\n    const storageRef = ref(projectStorage, file.name)\n    const collectionRef = collection(\n      projectFirestore,\n      'images',\n      auth.currentUser.uid,\n      'photo'\n    )\n\n    const uploadTask = uploadBytesResumable(storageRef, file)\n    uploadTask.on(\n      'state_changed',\n      (snap) => {\n        let percentage = (snap.bytesTransferred / snap.totalBytes) * 100\n        setProgress(percentage)\n      },\n      (err) => setError(err),\n      async () => {\n        const url = await getDownloadURL(uploadTask.snapshot.ref)\n        // const url = getDownloadURL(storageRef)\n        const createdAt = timestamp()\n        if (data) {\n          await addDoc(collectionRef, {\n            url,\n            createdAt,\n            avatar: data?.avatar || '',\n            name: data?.name || '',\n            email: data?.email || '',\n            uid: auth.currentUser.uid,\n            like: 0,\n            postId,\n            likedUsers: [],\n          })\n\n          setUrl(url)\n        }\n      }\n    )\n    const allImgRef = collection(projectFirestore, 'images')\n\n    return async () => {\n      if (data) {\n        const createdAt = timestamp()\n        const url = await getDownloadURL(uploadTask.snapshot.ref)\n        await addDoc(allImgRef, {\n          url,\n          createdAt,\n          avatar: data?.avatar || '',\n          name: data?.name || '',\n          email: data?.email || '',\n          uid: auth.currentUser.uid,\n          like: 0,\n          postId,\n          likedUsers: [],\n          comments: [],\n        })\n      }\n    }\n  }, [file, data])\n\n  return { progress, url, error }\n}\n\nexport default useStorage\n","import React, { useEffect } from 'react'\nimport useStorage from '../hooks/useStorage'\nimport { motion } from 'framer-motion'\n\nexport const ProgressBar = ({ file, setFile = (r) => r }) => {\n  const postId = Math.random() * 100\n  const { url, progress } = useStorage(file, postId)\n\n  useEffect(() => {\n    if (url) {\n      setFile(null)\n    }\n  }, [url, setFile])\n\n  return (\n    <motion.div\n      initial={{ width: 0 }}\n      animate={{ width: progress + '%' }}\n      className=\"progress-bar\"\n    ></motion.div>\n  )\n}\n","import React, { useState } from 'react'\nimport { ProgressBar } from './ProgressBar'\n\nexport const UploadForm = () => {\n  const [file, setFile] = useState(null)\n  const [error, setError] = useState(null)\n\n  const types = ['image/png', 'image/jpeg']\n  const changeHandler = (e) => {\n    let selected = e.target.files[0]\n    if (selected && types.includes(selected.type)) {\n      setFile(selected)\n      setError('')\n    } else {\n      setFile(null)\n      setError('Please select an image file (png or jpeg)')\n    }\n  }\n  return (\n    <form className=\"upload_form\">\n      <label>\n        <input type=\"file\" onChange={changeHandler} />\n        <span>+</span>\n      </label>\n\n      <div className=\"output\">\n        {error && <div className=\"error\">{error}</div>}\n        {file && <div>{file.name}</div>}\n        {file && <ProgressBar file={file} setFile={setFile} />}\n      </div>\n    </form>\n  )\n}\n","import React from 'react'\r\nimport { useEffect } from 'react'\r\nimport { useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { ImageContent } from '../comps/ImageContent'\r\nimport { Loading } from '../comps/Loading'\r\nimport { Sidenav } from '../comps/Sidenav'\r\nimport Title from '../comps/Title'\r\nimport { UploadForm } from '../comps/UploadForm'\r\nimport { auth } from '../firebase/config'\r\nimport useFirestore from '../hooks/useFirestore'\r\nimport { usePost } from '../hooks/usePost'\r\n\r\nimport useProfile from '../hooks/useProfile'\r\n\r\nexport const Profile = () => {\r\n  const { id } = useParams()\r\n\r\n  const [selectedImage, setSelectedImage] = useState(null)\r\n  const [user, setuser] = useState(null)\r\n\r\n  const [docsList, setDocsList] = useState([])\r\n\r\n  const { docs, loading } = useFirestore('images', id)\r\n  const { data } = useProfile(id)\r\n  const { setLike, addComment } = usePost(id)\r\n\r\n  useEffect(() => {\r\n    setuser(data)\r\n    setDocsList(docs)\r\n  }, [data, id, docs])\r\n\r\n  if (loading) {\r\n    return <Loading />\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {user && id ? (\r\n        <>\r\n          <Sidenav user={user} active={'profile'} id={id} />\r\n          {id === auth?.currentUser?.uid && (\r\n            <>\r\n              <Title />\r\n              <UploadForm />\r\n            </>\r\n          )}\r\n\r\n          <ImageContent\r\n            docs={docsList}\r\n            currentUser={data}\r\n            selectedImage={selectedImage}\r\n            loading={loading}\r\n            author={user}\r\n            setLike={setLike}\r\n            addComment={addComment}\r\n            setSelectedImage={setSelectedImage}\r\n          />\r\n        </>\r\n      ) : (\r\n        'No data'\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport const AuthButton = ({ className, disabled, children }) => {\r\n  return (\r\n    <button className={className} disabled={disabled}>\r\n      {children}\r\n    </button>\r\n  )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useState } from 'react'\r\nimport { AuthButton } from '../comps/AuthButton'\r\nimport useAuth from '../hooks/useAuth'\r\nimport { formatErrorMessage } from '../utils'\r\nimport s from './Registration.module.css'\r\n\r\nexport const Register = () => {\r\n  const [data, setData] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    error: null,\r\n    loading: false,\r\n  })\r\n\r\n  const { signup, error: authError } = useAuth()\r\n\r\n  const handleChange = (e) => {\r\n    setData({\r\n      ...data,\r\n      [e.target.name]: e.target.value,\r\n    })\r\n  }\r\n\r\n  const submitHandle = (e) => {\r\n    e.preventDefault()\r\n    setData({\r\n      ...data,\r\n      loading: true,\r\n    })\r\n    signup(name, email, password)\r\n    setData({\r\n      name: '',\r\n      email: '',\r\n      password: '',\r\n      error: null,\r\n      loading: false,\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (authError) {\r\n      setData({\r\n        ...data,\r\n        error: formatErrorMessage(authError),\r\n        loading: false,\r\n      })\r\n    }\r\n  }, [authError, data])\r\n\r\n  const { name, email, password, error, loading } = data\r\n\r\n  return (\r\n    <div className={s.container}>\r\n      <div className={s.register}>\r\n        <div className={s.content}>\r\n          <h1>Регистрация</h1>\r\n\r\n          <form onSubmit={submitHandle} className={s.form}>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Имя\"\r\n              name=\"name\"\r\n              value={name}\r\n              onChange={handleChange}\r\n            />\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"email\"\r\n              name=\"email\"\r\n              value={email}\r\n              onChange={handleChange}\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Пароль\"\r\n              name=\"password\"\r\n              value={password}\r\n              onChange={handleChange}\r\n            />\r\n            <span className={s.clearfix}></span>\r\n            <AuthButton className={s.btn} disabled={loading}>\r\n              {!loading ? 'Зарегистрироваться' : 'Регистрация...'}\r\n            </AuthButton>\r\n          </form>\r\n        </div>\r\n        {error ? <p className=\"error\">{error}</p> : null}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport useProfile from '../hooks/useProfile'\r\n\r\nexport const ProfileMain = ({ user }) => {\r\n  const { updateProfileData } = useProfile()\r\n  const [isEditing, setIsEditing] = useState(false)\r\n  const [name, setName] = useState(user.name)\r\n\r\n  const onEditHandle = () => {\r\n    setIsEditing(!isEditing)\r\n  }\r\n\r\n  const inputHandle = (e) => {\r\n    setName(e.target.value)\r\n  }\r\n\r\n  const onEdit = () => {\r\n    updateProfileData(name)\r\n    setIsEditing(false)\r\n  }\r\n\r\n  return (\r\n    <div className=\"main\">\r\n      <h2>Информация о профиле</h2>\r\n      <div className=\"card\">\r\n        <div className=\"card-body\">\r\n          <i className=\"fa fa-pen fa-xs edit\" onClick={onEditHandle}></i>\r\n          <div>\r\n            {isEditing ? (\r\n              <div>\r\n                <input value={name} onChange={inputHandle} className=\"input\" />\r\n                <button className=\"button\" onClick={onEdit}>\r\n                  Изменить\r\n                </button>\r\n              </div>\r\n            ) : (\r\n              <p>\r\n                Имя: <span>{user.name}</span>\r\n              </p>\r\n            )}\r\n          </div>\r\n          <div>\r\n            <p>\r\n              Email: <span>{user.email}</span>\r\n            </p>\r\n          </div>\r\n          <div>\r\n            <p>\r\n              Зарегистрирован:\r\n              <span>{user.createdAt.toDate().toDateString()}</span>{' '}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* <h2>SOCIAL MEDIA</h2>\r\n            <div className=\"card\">\r\n              <div className=\"card-body\">\r\n                <i className=\"fa fa-pen fa-xs edit\"></i>\r\n                <div className=\"social-media\">\r\n                  <span className=\"fa-stack fa-sm\">\r\n                    <i className=\"fas fa-circle fa-stack-2x\"></i>\r\n                    <i className=\"fab fa-facebook fa-stack-1x fa-inverse\"></i>\r\n                  </span>\r\n                  <span className=\"fa-stack fa-sm\">\r\n                    <i className=\"fas fa-circle fa-stack-2x\"></i>\r\n                    <i className=\"fab fa-twitter fa-stack-1x fa-inverse\"></i>\r\n                  </span>\r\n                  <span className=\"fa-stack fa-sm\">\r\n                    <i className=\"fas fa-circle fa-stack-2x\"></i>\r\n                    <i className=\"fab fa-instagram fa-stack-1x fa-inverse\"></i>\r\n                  </span>\r\n                  <span className=\"fa-stack fa-sm\">\r\n                    <i className=\"fas fa-circle fa-stack-2x\"></i>\r\n                    <i className=\"fab fa-invision fa-stack-1x fa-inverse\"></i>\r\n                  </span>\r\n                  <span className=\"fa-stack fa-sm\">\r\n                    <i className=\"fas fa-circle fa-stack-2x\"></i>\r\n                    <i className=\"fab fa-github fa-stack-1x fa-inverse\"></i>\r\n                  </span>\r\n                  <span className=\"fa-stack fa-sm\">\r\n                    <i className=\"fas fa-circle fa-stack-2x\"></i>\r\n                    <i className=\"fab fa-whatsapp fa-stack-1x fa-inverse\"></i>\r\n                  </span>\r\n                  <span className=\"fa-stack fa-sm\">\r\n                    <i className=\"fas fa-circle fa-stack-2x\"></i>\r\n                    <i className=\"fab fa-snapchat fa-stack-1x fa-inverse\"></i>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div> */}\r\n    </div>\r\n  )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Sidenav } from '../comps/Sidenav'\r\nimport useProfile from '../hooks/useProfile'\r\nimport { ProfileMain } from '../comps/ProfileMain'\r\nimport { auth } from '../firebase/config'\r\n\r\nexport const Settings = () => {\r\n  const [user, setuser] = useState(null)\r\n  const [img, setImg] = useState('')\r\n  const { uploadImg, deleteAvatar, data } = useProfile(auth.currentUser.uid)\r\n\r\n  useEffect(() => {\r\n    setuser(data)\r\n\r\n    if (img) {\r\n      uploadImg(img, user, setImg)\r\n    }\r\n  }, [img, data])\r\n\r\n  const onDeleteAvatar = () => {\r\n    deleteAvatar(user)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {user ? (\r\n        <>\r\n          <Sidenav\r\n            user={user}\r\n            setImg={setImg}\r\n            deleteImage={onDeleteAvatar}\r\n            active={'settings'}\r\n            id={auth.currentUser.uid}\r\n          />\r\n          <ProfileMain user={user} />\r\n        </>\r\n      ) : (\r\n        'No data'\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\nimport { Route, Routes } from 'react-router-dom'\nimport { Navbar } from './comps/Navbar'\nimport { PrivateRoute } from './comps/PrivateRoute'\nimport { AuthProvider } from './context/auth'\nimport useAuth from './hooks/useAuth'\nimport { Home } from './pages/Home'\nimport { Images } from './pages/Images'\nimport { Login } from './pages/Login'\nimport { Post } from './pages/Post'\nimport { Profile } from './pages/Profile'\nimport { Register } from './pages/Register'\nimport { Settings } from './pages/Settings'\n\nfunction App() {\n  const { user } = useAuth()\n\n  return (\n    <div className=\"App\">\n      <AuthProvider>\n        <Navbar />\n        <Routes>\n          <Route\n            path=\"/\"\n            element={\n              <PrivateRoute user={user}>\n                <Home />\n              </PrivateRoute>\n            }\n          />\n          <Route\n            path=\"/firegram-main\"\n            element={\n              <PrivateRoute user={user}>\n                <Home />\n              </PrivateRoute>\n            }\n          />\n          <Route path=\"/images\" element={<Images />} />\n          <Route path=\"/login\" element={<Login />} />\n          <Route path=\"/register\" element={<Register />} />\n          <Route path=\"/profile/:id\" element={<Profile />} />\n          <Route path=\"/post/:uid/:id\" element={<Post />} />\n          <Route path=\"/post/:id\" element={<Post />} />\n\n          <Route\n            path=\"/settings\"\n            element={\n              <PrivateRoute user={user}>\n                <Settings />\n              </PrivateRoute>\n            }\n          />\n        </Routes>\n      </AuthProvider>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}