{"version":3,"sources":["comps/PostModal/PostCard.module.css","pages/Registration.module.css","comps/PostModal/Post.module.css","firebase/config.js","hooks/useAuth.js","hooks/useProfile.js","comps/Menu.js","comps/BurgerMenu.js","comps/Navbar.js","comps/Loading.js","context/auth.js","comps/PrivateRoute.js","comps/ImageGrid.js","comps/PostModal/Username.js","comps/PostModal/Image.js","comps/PostModal/Status.js","comps/PostModal/Comment.js","utils.js","comps/PostModal/Footer.js","comps/Liked.js","comps/PostModal/Modal.js","hooks/useSubs.js","hooks/usePost.js","pages/Home.js","hooks/useFirestore.js","pages/Images.js","pages/Login.js","comps/PostModal/Comments.js","pages/Post.js","comps/Camera.js","comps/Delete.js","comps/ImageContainer.js","comps/Sidenav.js","comps/Title.js","hooks/useStorage.js","comps/ProgressBar.js","comps/UploadForm.js","pages/Profile.js","comps/AuthButton.js","pages/Register.js","comps/ProfileMain.js","pages/Settings.js","App.js","index.js"],"names":["module","exports","firebaseConfig","apiKey","process","REACT_APP_API_KEY","authDomain","REACT_APP_AUTH_DOMAIN","projectId","REACT_APP_PROJECT_ID","storageBucket","REACT_APP_STORAGE_BUCKET","messagingSenderId","REACT_APP_MESSAGING_SENDER_ID","appId","REACT_APP_ID","app","initializeApp","projectStorage","getStorage","projectFirestore","getFirestore","auth","getAuth","timestamp","serverTimestamp","useAuth","useState","user","setuser","error","setError","history","useNavigate","useEffect","unsub","onAuthStateChanged","authUser","signup","name","email","password","a","createUserWithEmailAndPassword","result","setDoc","doc","uid","createdAt","Timestamp","fromDate","Date","message","signIn","signInWithEmailAndPassword","signout","signOut","useProfile","id","data","setdata","currentUser","userRef","onSnapshot","avatar","avatarPath","subscribes","subscribers","getProfileData","getDoc","docSnap","uploadImg","img","setImg","imgRef","ref","getTime","deleteObject","uploadBytes","snap","getDownloadURL","fullPath","url","updateDoc","console","log","deleteAvatar","window","confirm","avatarRef","updateProfileData","Menu","image","classname","open","r","handleLinkClick","className","to","onClick","src","alt","Burger","setOpen","style","transform","opacity","BurgerMenu","Navbar","setName","innerWidth","windowInnerWidth","setWindowInnerWidth","setImage","onresize","Loading","position","top","left","AuthContext","createContext","AuthProvider","children","setUser","loading","setLoading","Provider","value","PrivateRoute","useContext","ImageGrid","docs","setSelectedImage","map","motion","div","layout","whileHover","key","initial","animate","transition","delay","Username","author","subscribe","unsubscribe","s","username","p","includes","span","Image","postImage","Status","selectedImage","postId","isAll","setLike","setSelectedPost","like","setlike","status","likeItem","likeSymbol","commentSymbol","role","aria-label","statustem","e","Comment","addComment","text","setText","commentInput","onSubmit","preventDefault","onChange","target","placeholder","formatErrorMessage","Footer","date","dd","getDate","mm","getMonth","yy","getFullYear","formatDate","toDate","footer","Liked","likedUsers","classList","contains","likedInner","y","likedHeader","likedContent","i","likedItem","Modal","selectedPost","postcard","useFirestore","col","setDocs","projectCollection","collection","length","q","query","orderBy","where","documents","forEach","d","push","usePost","userId","docRef","q1","getDocs","find","q2","profileRef","likedPosts","comments","comment","userData","authorRef","authorData","filter","Home","useSubs","res","Images","Login","authError","setData","handleChange","container","login","content","form","type","forget","clearfix","disabled","btn","Comments","index","fontSize","Post","useParams","post","setPost","setComments","select","postInner","postImgBig","postInfo","Camera","xmlns","width","height","cursor","viewBox","fill","fillRule","clipRule","Delete","deleteImage","color","ImageContainer","htmlFor","accept","display","files","Sidenav","active","align","Title","useStorage","file","progress","setProgress","setUrl","storageRef","collectionRef","uploadTask","uploadBytesResumable","on","percentage","bytesTransferred","totalBytes","err","snapshot","addDoc","allImgRef","ProgressBar","setFile","Math","random","UploadForm","types","selected","Profile","docsList","setDocsList","AuthButton","Register","register","ProfileMain","isEditing","setIsEditing","toDateString","Settings","App","path","element","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.22f7f7f2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"postContainer\":\"PostCard_postContainer__eVvEg\",\"postcard\":\"PostCard_postcard__3jYhV\",\"commentInput\":\"PostCard_commentInput__2evis\",\"postImage\":\"PostCard_postImage__EGj4i\",\"username\":\"PostCard_username__3iMx3\",\"status\":\"PostCard_status__27axQ\",\"like\":\"PostCard_like__3-00p\",\"likeItem\":\"PostCard_likeItem__3g2ji\",\"statustem\":\"PostCard_statustem__2k7LH\",\"likeCount\":\"PostCard_likeCount__3hHMd\",\"likeSymbol\":\"PostCard_likeSymbol__4cP5u\",\"commentSymbol\":\"PostCard_commentSymbol__1fmTm\",\"footer\":\"PostCard_footer__ngHMI\",\"date\":\"PostCard_date__1iNiB\",\"image\":\"PostCard_image__dioD9\",\"subscribe\":\"PostCard_subscribe__1AGWM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Registration_form__1LjYZ\",\"btn\":\"Registration_btn__2FA-f\",\"container\":\"Registration_container__1n0Nr\",\"content\":\"Registration_content__1E9Cw\",\"login\":\"Registration_login__1QBzr\",\"register\":\"Registration_register__3j0km\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__29K8Q\",\"postInner\":\"Post_postInner__1xrQE\",\"postImgBig\":\"Post_postImgBig__Q4oLS\",\"image\":\"Post_image__3VnIY\",\"postImage\":\"Post_postImage__1GzLD\",\"postInfo\":\"Post_postInfo__3z9kw\",\"username\":\"Post_username__WVFFq\",\"like\":\"Post_like__1bKPS\",\"commentInput\":\"Post_commentInput__2P6SL\",\"footer\":\"Post_footer__2j9mn\",\"likedInner\":\"Post_likedInner__282M0\",\"likedHeader\":\"Post_likedHeader__3LyYO\",\"likedContent\":\"Post_likedContent__2FwMS\",\"likedItem\":\"Post_likedItem__3Shdm\"};","import { initializeApp } from 'firebase/app'\nimport { getStorage } from 'firebase/storage'\nimport { getFirestore, serverTimestamp } from 'firebase/firestore'\nimport { getAuth } from 'firebase/auth'\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_ID,\n}\n\nconst app = initializeApp(firebaseConfig)\n\nconst projectStorage = getStorage(app)\nconst projectFirestore = getFirestore(app)\nconst auth = getAuth(app)\nconst timestamp = serverTimestamp\n\nexport { projectFirestore, projectStorage, auth, timestamp }\n","import {\r\n  createUserWithEmailAndPassword,\r\n  onAuthStateChanged,\r\n  signInWithEmailAndPassword,\r\n  signOut,\r\n} from 'firebase/auth'\r\nimport { doc, setDoc, Timestamp } from 'firebase/firestore'\r\nimport { useEffect } from 'react'\r\nimport { useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { auth, projectFirestore } from '../firebase/config'\r\n\r\nconst useAuth = () => {\r\n  const [user, setuser] = useState(null)\r\n  const [error, setError] = useState(null)\r\n\r\n  const history = useNavigate()\r\n\r\n  useEffect(() => {\r\n    const unsub = onAuthStateChanged(auth, (authUser) => {\r\n      if (authUser) {\r\n        setuser(authUser)\r\n      } else {\r\n        setuser(false)\r\n      }\r\n    })\r\n    return () => unsub()\r\n  }, [])\r\n\r\n  const signup = async (name, email, password) => {\r\n    try {\r\n      const result = await createUserWithEmailAndPassword(auth, email, password)\r\n      await setDoc(doc(projectFirestore, 'users', result.user.uid), {\r\n        uid: result.user.uid,\r\n        name,\r\n        email,\r\n        createdAt: Timestamp.fromDate(new Date()),\r\n      })\r\n      setuser(result.user)\r\n      setError(false)\r\n      history('/')\r\n    } catch (error) {\r\n      setuser(false)\r\n      setError(error.message)\r\n    }\r\n  }\r\n\r\n  const signIn = async (email, password) => {\r\n    try {\r\n      const result = await signInWithEmailAndPassword(auth, email, password)\r\n\r\n      setuser(result.user)\r\n      setError(false)\r\n      history('/')\r\n    } catch (error) {\r\n      setuser(false)\r\n      setError(error.message)\r\n    }\r\n  }\r\n\r\n  const signout = async () => {\r\n    await signOut(auth)\r\n    history('/login')\r\n  }\r\n\r\n  return { user, error, signup, signout, signIn }\r\n}\r\n\r\nexport default useAuth\r\n","import { doc, getDoc, onSnapshot, updateDoc } from 'firebase/firestore'\r\nimport {\r\n  deleteObject,\r\n  getDownloadURL,\r\n  ref,\r\n  uploadBytes,\r\n} from 'firebase/storage'\r\nimport { useEffect, useState } from 'react'\r\nimport { auth, projectFirestore, projectStorage } from '../firebase/config'\r\n\r\nconst useProfile = (id) => {\r\n  const [data, setdata] = useState(null)\r\n\r\n  let currentUser = auth?.currentUser\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      const userRef = doc(projectFirestore, 'users', id)\r\n\r\n      const unsub = onSnapshot(userRef, (doc) => {\r\n        setdata({\r\n          name: doc.data().name || '',\r\n          email: doc.data().email || '',\r\n          avatar: doc.data().avatar || '',\r\n          avatarPath: doc.data().avatarPath || '',\r\n          createdAt: doc.data().createdAt || '',\r\n          uid: doc.data().uid || '',\r\n          subscribes: doc.data().subscribes || '',\r\n          subscribers: doc.data().subscribers || '',\r\n        })\r\n      })\r\n      return () => unsub()\r\n    }\r\n  }, [id, currentUser])\r\n\r\n  const getProfileData = async () => {\r\n    const userRef = doc(projectFirestore, 'users', id)\r\n\r\n    const docSnap = await getDoc(userRef)\r\n    return docSnap.data()\r\n  }\r\n\r\n  const uploadImg = async (img, user, setImg) => {\r\n    const userRef = doc(projectFirestore, 'users', id || auth?.currentUser?.uid)\r\n\r\n    const imgRef = ref(\r\n      projectStorage,\r\n      `avatar/${new Date().getTime()} - ${img.name}`\r\n    )\r\n    try {\r\n      if (user.avatarPath) {\r\n        await deleteObject(ref(projectStorage, user.avatarPath))\r\n      }\r\n      const snap = await uploadBytes(imgRef, img)\r\n      const url = await getDownloadURL(ref(projectStorage, snap.ref.fullPath))\r\n\r\n      await updateDoc(userRef, {\r\n        avatar: url,\r\n        avatarPath: snap.ref.fullPath,\r\n      })\r\n      setImg('')\r\n    } catch (err) {\r\n      console.log(err.message)\r\n    }\r\n  }\r\n\r\n  const deleteAvatar = async (user) => {\r\n    try {\r\n      const userRef = doc(\r\n        projectFirestore,\r\n        'users',\r\n        id || auth?.currentUser?.uid\r\n      )\r\n\r\n      const confirm = window.confirm('Delete avatar?')\r\n      if (confirm) {\r\n        const avatarRef = ref(projectStorage, user.avatarPath)\r\n        await deleteObject(avatarRef)\r\n\r\n        await updateDoc(userRef, {\r\n          avatar: '',\r\n          avatarPath: '',\r\n        })\r\n      }\r\n    } catch (error) {\r\n      console.log(error.message)\r\n    }\r\n  }\r\n\r\n  const updateProfileData = async (name) => {\r\n    const userRef = doc(projectFirestore, 'users', id || auth?.currentUser?.uid)\r\n\r\n    try {\r\n      await updateDoc(userRef, {\r\n        name,\r\n      })\r\n    } catch (error) {\r\n      console.log(error.message)\r\n    }\r\n  }\r\n\r\n  return { getProfileData, uploadImg, deleteAvatar, updateProfileData, data }\r\n}\r\n\r\nexport default useProfile\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport const Menu = ({\r\n  user,\r\n  image,\r\n  name,\r\n  classname = '',\r\n  open = false,\r\n  signout = (r) => r,\r\n  handleLinkClick = (r) => r,\r\n}) => {\r\n  let className = classname\r\n\r\n  if (open) {\r\n    className += ' open'\r\n  } else {\r\n    className += ' close'\r\n  }\r\n  return (\r\n    <div id=\"menu\" className={className}>\r\n      <ul>\r\n        {user ? (\r\n          <>\r\n            <li>\r\n              <Link to=\"/images\" onClick={handleLinkClick}>\r\n                Все картинки\r\n              </Link>\r\n            </li>\r\n\r\n            <li>\r\n              <div className=\"nav_avatar \">\r\n                <img\r\n                  src={\r\n                    image ||\r\n                    'https://imdezcode.files.wordpress.com/2020/02/imdezcode-logo.png'\r\n                  }\r\n                  alt=\"avatar\"\r\n                />\r\n              </div>\r\n            </li>\r\n\r\n            <li>\r\n              <Link to={`/profile/${user.uid}`} onClick={handleLinkClick}>\r\n                {name ? name : 'Profile'}\r\n              </Link>\r\n            </li>\r\n\r\n            <li>\r\n              <Link\r\n                to=\"/login\"\r\n                className=\"btn\"\r\n                onClick={() => {\r\n                  signout()\r\n                  handleLinkClick()\r\n                }}\r\n              >\r\n                Выйти\r\n              </Link>\r\n            </li>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <li>\r\n              <Link to=\"/login\" onClick={handleLinkClick}>\r\n                Войти\r\n              </Link>\r\n            </li>\r\n            <li>\r\n              <Link to=\"/register\" onClick={handleLinkClick}>\r\n                Зарегистрироваться\r\n              </Link>\r\n            </li>\r\n          </>\r\n        )}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { Menu } from './Menu'\r\n\r\nconst Burger = ({ open, setOpen = (r) => r }) => {\r\n  return (\r\n    <button\r\n      className=\"styled-burger\"\r\n      open={open}\r\n      onClick={() => setOpen(!open)}\r\n    >\r\n      <div\r\n        style={{\r\n          transform: () => (open ? 'rotate(45deg)' : 'rotate(0)'),\r\n        }}\r\n      />\r\n      <div\r\n        style={{\r\n          opacity: () => (open ? '0' : '1'),\r\n          transform: () => (open ? 'translateX(20px)' : 'translateX(0)'),\r\n        }}\r\n      />\r\n      <div\r\n        style={{\r\n          transform: () => (open ? 'rotate(-45deg)' : 'rotate(0)'),\r\n        }}\r\n      />\r\n    </button>\r\n  )\r\n}\r\n\r\nexport const BurgerMenu = ({ user, name, image, signout }) => {\r\n  const [open, setOpen] = useState(false)\r\n  return (\r\n    <div>\r\n      <div>\r\n        <Burger open={open} setOpen={setOpen} />\r\n        <Menu\r\n          classname=\"styled-menu\"\r\n          user={user}\r\n          name={name}\r\n          image={image}\r\n          signout={signout}\r\n          open={open}\r\n          handleLinkClick={() => setOpen(false)}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n// const useOnClickOutside = (ref, handler) => {\r\n//   useEffect(() => {\r\n//     const listener = (event) => {\r\n//       if (!ref.current || ref.current.contains(event.target)) {\r\n//         return\r\n//       }\r\n//       handler(event)\r\n//     }\r\n//     document.addEventListener('mousedown', listener)\r\n\r\n//     return () => {\r\n//       document.removeEventListener('mousedown', listener)\r\n//     }\r\n//   }, [ref, handler])\r\n// }\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { auth } from '../firebase/config'\r\nimport useAuth from '../hooks/useAuth'\r\nimport useProfile from '../hooks/useProfile'\r\nimport { BurgerMenu } from './BurgerMenu'\r\nimport { Menu } from './Menu'\r\n\r\nexport const Navbar = () => {\r\n  const { user, signout } = useAuth(auth?.currentUser?.uid)\r\n  const { data } = useProfile(auth?.currentUser?.uid)\r\n  const [name, setName] = useState('')\r\n  const [windowInnerWidth, setWindowInnerWidth] = useState(window.innerWidth)\r\n  const [image, setImage] = useState('')\r\n\r\n  useEffect(() => {\r\n    setName(data?.name)\r\n    setImage(data?.avatar)\r\n  }, [data])\r\n\r\n  useEffect(() => {\r\n    window.onresize = () => {\r\n      setWindowInnerWidth(window.innerWidth)\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <nav id=\"navbar\">\r\n      <div className=\"nav-wrapper\">\r\n        <div className=\"logo\">\r\n          <Link to=\"/\">\r\n            <div className=\"title\">\r\n              <h1>FireGram</h1>\r\n            </div>\r\n          </Link>\r\n        </div>\r\n        {windowInnerWidth > 768 ? (\r\n          <Menu user={user} name={name} image={image} signout={signout} />\r\n        ) : (\r\n          <BurgerMenu user={user} name={name} image={image} signout={signout} />\r\n        )}\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport const Loading = () => {\r\n  return (\r\n    <div style={{ position: 'relative' }}>\r\n      <h2\r\n        style={{\r\n          position: 'fixed',\r\n          top: '50%',\r\n          left: '50%',\r\n          transform: 'translate(-50%, -50%)',\r\n        }}\r\n      >\r\n        Loading...\r\n      </h2>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { onAuthStateChanged } from 'firebase/auth'\r\nimport { createContext, useEffect, useState } from 'react'\r\nimport { auth } from '../firebase/config'\r\nimport { Loading } from '../comps/Loading'\r\n\r\nexport const AuthContext = createContext()\r\nexport const AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null)\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    onAuthStateChanged(auth, (user) => {\r\n      setUser(user)\r\n      setLoading(false)\r\n    })\r\n  }, [])\r\n\r\n  if (loading) {\r\n    return <Loading />\r\n  }\r\n  return (\r\n    <AuthContext.Provider value={{ user }}>{children}</AuthContext.Provider>\r\n  )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { Navigate } from 'react-router-dom'\r\nimport { AuthContext } from '../context/auth'\r\n\r\nexport const PrivateRoute = ({ children }) => {\r\n  const { user } = useContext(AuthContext)\r\n\r\n  if (!user) {\r\n    return <Navigate to={'/login'} />\r\n  }\r\n  return children\r\n}\r\n","import { motion } from 'framer-motion'\nimport React from 'react'\n\nexport const ImageGrid = ({\n  docs,\n  loading = false,\n  setSelectedImage = (r) => r,\n}) => {\n  if (loading) {\n    return (\n      <div className=\"loader\">\n        <div className=\"loader_inner\"></div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"img-grid\">\n      {docs ? (\n        docs.map((doc) => (\n          <motion.div\n            layout\n            whileHover={{ opacity: 1 }}\n            className=\"img-wrap\"\n            key={doc.id}\n            onClick={() => setSelectedImage(doc)}\n          >\n            <motion.img\n              src={doc.url}\n              alt=\"uploaded picture\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 1 }}\n            />\n          </motion.div>\n        ))\n      ) : (\n        <div className=\"loader\">\n          <div className=\"loader_inner\"></div>\n        </div>\n      )}\n    </div>\n  )\n}\n","import React from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport { Link } from 'react-router-dom'\r\nimport s from './PostCard.module.css'\r\n\r\nexport const Username = ({\r\n  author,\r\n  style,\r\n  currentUser,\r\n  subscribe = (r) => r,\r\n  unsubscribe = (r) => r,\r\n}) => {\r\n  const onSubscribe = () => {\r\n    subscribe(author)\r\n  }\r\n\r\n  const onUnsubscribe = () => {\r\n    unsubscribe(author)\r\n  }\r\n\r\n  return (\r\n    <motion.div className={s.username} style={style ? style : ''}>\r\n      <motion.img\r\n        src={\r\n          author.avatar ||\r\n          'https://imdezcode.files.wordpress.com/2020/02/imdezcode-logo.png'\r\n        }\r\n        alt=\"avatar\"\r\n      ></motion.img>\r\n      <motion.p>\r\n        <Link to={`/profile/${author.uid}`}> {author.name}</Link>\r\n      </motion.p>\r\n      <motion.div>\r\n        {author?.uid !== currentUser?.uid && (\r\n          <>\r\n            {subscribe && !currentUser?.subscribes?.includes(author?.uid) ? (\r\n              <motion.span className={s.subscribe} onClick={onSubscribe}>\r\n                Подписаться\r\n              </motion.span>\r\n            ) : (\r\n              <motion.span className={s.subscribe} onClick={onUnsubscribe}>\r\n                Отписаться\r\n              </motion.span>\r\n            )}\r\n          </>\r\n        )}\r\n      </motion.div>\r\n    </motion.div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport s from './PostCard.module.css'\r\n\r\nexport const Image = ({ img }) => {\r\n  return (\r\n    // <motion.div className={s.image}>\r\n    <motion.img className={s.postImage} src={img}></motion.img>\r\n    // </motion.div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport s from './PostCard.module.css'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport const Status = ({\r\n  author,\r\n  selectedImage,\r\n  postId,\r\n  isAll,\r\n  setLike = (r) => r,\r\n  setSelectedPost = (r) => r,\r\n}) => {\r\n  const [like, setlike] = useState(selectedImage.like)\r\n\r\n  const onSetLike = () => {\r\n    setLike(postId, author.uid)\r\n    setlike(selectedImage.like + 1)\r\n  }\r\n\r\n  const onSelect = (e) => {\r\n    setSelectedPost(selectedImage)\r\n  }\r\n\r\n  return (\r\n    <motion.div className={s.status}>\r\n      <motion.div className={s.like}>\r\n        <motion.div className={s.likeItem}>\r\n          <motion.span className={s.likeSymbol} onClick={onSetLike}>\r\n            &#9825;\r\n          </motion.span>\r\n          {/* <motion.img\r\n            src=\"https://cdn4.iconfinder.com/data/icons/app-custom-ui-1/48/Heart-128.png\"\r\n            onClick={onSetLike}\r\n          ></motion.img> */}\r\n        </motion.div>\r\n\r\n        <motion.div className={s.likeItem}>\r\n          <Link\r\n            to={\r\n              !isAll\r\n                ? `/post/${author.uid}/${selectedImage.id}`\r\n                : `/post/${selectedImage.id}`\r\n            }\r\n          >\r\n            <motion.span\r\n              className={s.commentSymbol}\r\n              role=\"img\"\r\n              aria-label=\"comments\"\r\n            >\r\n              {' '}\r\n              💬\r\n            </motion.span>\r\n          </Link>\r\n\r\n          {/* <motion.img src=\"https://cdn4.iconfinder.com/data/icons/app-custom-ui-1/48/Chat_bubble-128.png\"></motion.img> */}\r\n        </motion.div>\r\n      </motion.div>\r\n      <motion.div className={s.statustem}>\r\n        <motion.span onClick={onSelect}>\r\n          Нравится: {like ? like : 0}\r\n        </motion.span>\r\n      </motion.div>\r\n      {/* <div><b>sendifajri</b> The beach is definitely where I feel most at home. It's my oxygen. I forget how much I need it sometimes when I'm away working.</div> */}\r\n      {/* <div className=\"comment\"><b>johndoe</b> So stunning</div> */}\r\n      {/* <motion.div className={s.statustem}>{author.name}</motion.div> */}\r\n    </motion.div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport s from './PostCard.module.css'\r\n\r\nexport const Comment = ({ postId, author, addComment = (r) => r }) => {\r\n  const [text, setText] = useState('')\r\n\r\n  const onInput = (e) => {\r\n    setText(e.target.value)\r\n  }\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault()\r\n    addComment(postId, author, text)\r\n    setText('')\r\n  }\r\n\r\n  return (\r\n    <div className={s.commentInput}>\r\n      <form onSubmit={onSubmit}>\r\n        <input\r\n          onChange={onInput}\r\n          value={text}\r\n          placeholder=\"Add a comment…\"\r\n        ></input>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n","export const formatDate = (date) => {\r\n  let dd = date.getDate()\r\n  if (dd < 10) dd = '0' + dd\r\n\r\n  let mm = date.getMonth() + 1\r\n  if (mm < 10) mm = '0' + mm\r\n\r\n  let yy = date.getFullYear() % 100\r\n  if (yy < 10) yy = '0' + yy\r\n\r\n  return dd + '.' + mm + '.' + yy\r\n}\r\n\r\nexport const formatErrorMessage = (message) => {\r\n  switch (message) {\r\n    case 'Firebase: Error (auth/email-already-in-use).':\r\n      return 'Пользователь с таким email уже существует!'\r\n\r\n    case 'Firebase: Error (auth/invalid-email).':\r\n      return 'Неправильный email!'\r\n\r\n    case 'Firebase: Error (auth/internal-error).':\r\n      return 'Все поля обязательны!'\r\n\r\n    case 'Firebase: Error (auth/user-not-found).':\r\n      return 'Такого пользователя не существвует!'\r\n\r\n    case 'Firebase: Error (auth/wrong-password).':\r\n      return 'Неправильный пароль!'\r\n\r\n    default:\r\n      break\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport { formatDate } from '../../utils'\r\nimport s from './PostCard.module.css'\r\n\r\nexport const Footer = ({ author }) => {\r\n  let date = formatDate(author.createdAt.toDate())\r\n\r\n  return (\r\n    <motion.div className={s.footer}>\r\n      <motion.p className={s.date}>{date}</motion.p>\r\n    </motion.div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport s from './PostModal/Post.module.css'\r\nimport { Username } from './PostModal/Username'\r\n\r\nexport const Liked = ({ likedUsers, setSelectedPost = (r) => r }) => {\r\n  const handleClick = (e) => {\r\n    if (e.target.classList.contains('backdrop')) {\r\n      setSelectedPost(null)\r\n    }\r\n  }\r\n  return (\r\n    <motion.div\r\n      className=\"backdrop\"\r\n      onClick={handleClick}\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n    >\r\n      <motion.div\r\n        className={s.likedInner}\r\n        initial={{ y: '-100vh' }}\r\n        animate={{ y: '10vh' }}\r\n      >\r\n        <motion.div className={s.likedHeader}>\r\n          <h1>Отметки \"Нравится\"</h1>{' '}\r\n        </motion.div>\r\n        <motion.div className={s.likedContent}>\r\n          {likedUsers ? (\r\n            <>\r\n              {likedUsers.map((i) => {\r\n                return (\r\n                  <div className={s.likedItem} key={i.uid}>\r\n                    <Username author={i} />\r\n                  </div>\r\n                )\r\n              })}\r\n            </>\r\n          ) : null}\r\n        </motion.div>\r\n      </motion.div>\r\n    </motion.div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\nimport { motion } from 'framer-motion'\nimport s from './PostCard.module.css'\nimport { Username } from './Username'\nimport { Image } from './Image'\nimport { Status } from './Status'\nimport { Comment } from './Comment'\nimport { Footer } from './Footer'\nimport { Liked } from '../Liked'\n\nexport const Modal = ({\n  selectedImage,\n  author,\n  currentUser,\n  isAll,\n  setSelectedImage = (r) => r,\n  subscribe = (r) => r,\n  unsubscribe = (r) => r,\n  setLike = (r) => r,\n  addComment = (r) => r,\n}) => {\n  const handleClick = (e) => {\n    if (e.target.classList.contains('backdrop')) {\n      setSelectedImage(null)\n    }\n  }\n  const [selectedPost, setSelectedPost] = useState(null)\n\n  const onLikePost = () => {\n    setLike(selectedImage.postId, author.uid)\n  }\n\n  return (\n    <motion.div\n      className=\"backdrop\"\n      onClick={handleClick}\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n    >\n      <motion.div\n        className={s.postcard}\n        initial={{ y: '-100vh' }}\n        animate={{ y: '10vh' }}\n      >\n        <Username\n          author={author}\n          currentUser={currentUser}\n          subscribe={subscribe}\n          unsubscribe={unsubscribe}\n        />\n        <Image img={selectedImage.url} />\n        <Status\n          setLike={onLikePost}\n          selectedImage={selectedImage}\n          author={author}\n          setSelectedPost={setSelectedPost}\n          isAll={isAll}\n        />\n        <Comment\n          postId={selectedImage.postId}\n          author={author}\n          addComment={addComment}\n        />\n        <Footer author={author} />\n      </motion.div>\n      {selectedPost && (\n        <Liked\n          likedUsers={selectedImage.likedUsers}\n          setSelectedPost={setSelectedPost}\n        />\n      )}\n    </motion.div>\n  )\n}\n","import {\r\n  collection,\r\n  onSnapshot,\r\n  orderBy,\r\n  query,\r\n  where,\r\n} from 'firebase/firestore'\r\nimport { useState, useEffect } from 'react'\r\nimport { auth, projectFirestore } from '../firebase/config'\r\nimport useProfile from './useProfile'\r\n\r\nconst useFirestore = (col) => {\r\n  const [docs, setDocs] = useState([])\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  const { data } = useProfile(auth.currentUser.uid)\r\n\r\n  useEffect(() => {\r\n    if (data?.subscribes) {\r\n      let projectCollection = collection(projectFirestore, col)\r\n\r\n      if (data?.subscribes?.length === 0) {\r\n        setDocs([])\r\n        setLoading(false)\r\n        return\r\n      }\r\n      const q = query(\r\n        projectCollection,\r\n        orderBy('createdAt', 'desc'),\r\n        where('uid', 'in', data.subscribes)\r\n      )\r\n\r\n      const unsub = onSnapshot(q, (doc) => {\r\n        let documents = []\r\n        doc.forEach((d) => {\r\n          documents.push({\r\n            ...d.data(),\r\n            id: d.id,\r\n          })\r\n        })\r\n        setDocs(documents)\r\n        setLoading(false)\r\n      })\r\n      return () => unsub()\r\n    }\r\n    // const userRef = doc(projectFirestore, 'users', auth.currentUser.uid)\r\n    // const userData = await getDoc(userRef)\r\n  }, [col, data])\r\n\r\n  return { docs, loading }\r\n}\r\n\r\nexport default useFirestore\r\n","import {\r\n  collection,\r\n  doc,\r\n  getDoc,\r\n  getDocs,\r\n  onSnapshot,\r\n  query,\r\n  updateDoc,\r\n  where,\r\n} from 'firebase/firestore'\r\nimport { useEffect, useState } from 'react'\r\nimport { auth, projectFirestore } from '../firebase/config'\r\nimport useProfile from './useProfile'\r\n\r\nexport const usePost = (id, userId) => {\r\n  const [docs, setDocs] = useState(null)\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  const { data } = useProfile(auth?.currentUser?.uid)\r\n\r\n  useEffect(() => {\r\n    if (id && userId) {\r\n      const docRef = doc(projectFirestore, 'images', userId, 'photo', id)\r\n      const unsub = onSnapshot(docRef, (doc) => {\r\n        setDocs(doc.data())\r\n        setLoading(false)\r\n      })\r\n\r\n      return () => unsub()\r\n    } else if (id) {\r\n      const docRef = doc(projectFirestore, 'images', id)\r\n      const unsub = onSnapshot(docRef, (doc) => {\r\n        setDocs(doc.data())\r\n        setLoading(false)\r\n      })\r\n\r\n      return () => unsub()\r\n    }\r\n  }, [id, userId])\r\n\r\n  const setLike = async (postId, uid) => {\r\n    const q1 = query(\r\n      collection(projectFirestore, 'images'),\r\n      where('postId', '==', postId)\r\n    )\r\n    const querySnapshot1 = await getDocs(q1)\r\n    querySnapshot1.forEach(async (d) => {\r\n      const imgRef = doc(projectFirestore, 'images', d.id)\r\n\r\n      if (!d.data().likedUsers.find((i) => i.uid === data.uid)) {\r\n        try {\r\n          await updateDoc(imgRef, {\r\n            like: (d.data().like += 1) || 1,\r\n            likedUsers: [...d.data().likedUsers, data],\r\n          })\r\n        } catch (error) {\r\n          console.log(error)\r\n        }\r\n      }\r\n    })\r\n\r\n    //images update\r\n    const q2 = query(\r\n      collection(projectFirestore, 'images', uid, 'photo'),\r\n      where('postId', '==', postId)\r\n    )\r\n    const querySnapshot = await getDocs(q2)\r\n    querySnapshot.forEach(async (d) => {\r\n      const imgRef = doc(projectFirestore, 'images', uid, 'photo', d.id)\r\n\r\n      if (!d.data().likedUsers.find((i) => i.uid === data.uid)) {\r\n        try {\r\n          await updateDoc(imgRef, {\r\n            like: (d.data().like += 1) || 1,\r\n            likedUsers: [...d.data().likedUsers, data],\r\n          })\r\n        } catch (error) {\r\n          console.log(error)\r\n        }\r\n      }\r\n    })\r\n\r\n    //update profile info\r\n    const profileRef = doc(projectFirestore, 'users', data.uid)\r\n    const docSnap = await getDoc(profileRef)\r\n\r\n    if (!docSnap.data().likedPosts.includes(postId))\r\n      try {\r\n        await updateDoc(profileRef, {\r\n          likedPosts: docSnap.data().likedPosts\r\n            ? [...docSnap.data().likedPosts, postId]\r\n            : [postId],\r\n        })\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n  }\r\n\r\n  const addComment = async (postId, author, text) => {\r\n    const q1 = query(\r\n      collection(projectFirestore, 'images'),\r\n      where('postId', '==', postId)\r\n    )\r\n    const querySnapshot1 = await getDocs(q1)\r\n    querySnapshot1.forEach(async (d) => {\r\n      const imgRef = doc(projectFirestore, 'images', d.id)\r\n      try {\r\n        if (d.data()) {\r\n          await updateDoc(imgRef, {\r\n            comments: [\r\n              ...d.data().comments,\r\n              {\r\n                comment: text,\r\n                author: data,\r\n              },\r\n            ],\r\n          })\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    })\r\n\r\n    //images update\r\n    const q2 = query(\r\n      collection(projectFirestore, 'images', author.uid, 'photo'),\r\n      where('postId', '==', postId)\r\n    )\r\n    const querySnapshot = await getDocs(q2)\r\n    querySnapshot.forEach(async (d) => {\r\n      const imgRef = doc(projectFirestore, 'images', author.uid, 'photo', d.id)\r\n      let comments = d.data().comments ? d.data().comments : []\r\n      try {\r\n        if (d.data()) {\r\n          await updateDoc(imgRef, {\r\n            comments: [\r\n              ...comments,\r\n              {\r\n                comment: text,\r\n                author: data,\r\n              },\r\n            ],\r\n          })\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    })\r\n  }\r\n\r\n  const subscribe = async (author) => {\r\n    const userRef = doc(projectFirestore, 'users', auth?.currentUser?.uid)\r\n    const userData = await getDoc(userRef)\r\n\r\n    if (!userData.data().subscribes.includes(author.uid)) {\r\n      await updateDoc(userRef, {\r\n        subscribes: [...userData.data().subscribes, author.uid],\r\n      })\r\n    }\r\n\r\n    const authorRef = doc(projectFirestore, 'users', author.uid)\r\n    const authorData = await getDoc(authorRef)\r\n\r\n    if (!authorData.data().subscribers.includes(auth?.currentUser?.uid)) {\r\n      await updateDoc(authorRef, {\r\n        subscribers: [...authorData.data().subscribers, auth?.currentUser?.uid],\r\n      })\r\n    }\r\n  }\r\n\r\n  const unsubscribe = async (author) => {\r\n    const userRef = doc(projectFirestore, 'users', auth?.currentUser?.uid)\r\n    const userData = await getDoc(userRef)\r\n\r\n    if (userData.data().subscribes.includes(author.uid)) {\r\n      const subscribes = userData.data().subscribes.filter((i) => {\r\n        return i !== author.uid\r\n      })\r\n\r\n      await updateDoc(userRef, {\r\n        subscribes,\r\n      })\r\n    }\r\n\r\n    const authorRef = doc(projectFirestore, 'users', author.uid)\r\n    const authorData = await getDoc(authorRef)\r\n\r\n    if (authorData.data().subscribers.includes(auth?.currentUser?.uid)) {\r\n      const subscribers = authorData\r\n        .data()\r\n        .subscribers.filter((i) => i !== auth?.currentUser?.uid)\r\n      await updateDoc(authorRef, {\r\n        subscribers,\r\n      })\r\n    }\r\n  }\r\n\r\n  return { docs, loading, setLike, addComment, subscribe, unsubscribe }\r\n}\r\n","import React, { useState } from 'react'\r\nimport { ImageGrid } from '../comps/ImageGrid'\r\nimport { Modal } from '../comps/PostModal/Modal'\r\nimport { Loading } from '../comps/Loading'\r\nimport useSubs from '../hooks/useSubs'\r\nimport { usePost } from '../hooks/usePost'\r\nimport { auth } from '../firebase/config'\r\nimport useProfile from '../hooks/useProfile'\r\n\r\nexport const Home = () => {\r\n  const [selectedImage, setSelectedImage] = useState(null)\r\n  const { docs, loading } = useSubs('images')\r\n  const { setLike, addComment, subscribe, unsubscribe } = usePost()\r\n  const { data } = useProfile(auth?.currentUser?.uid)\r\n\r\n  let res = docs.filter((i) => i?.email === selectedImage?.email)[0]\r\n\r\n  if (loading) {\r\n    return <Loading />\r\n  }\r\n\r\n  //Сделать сообщение что нет подписок\r\n\r\n  return (\r\n    <>\r\n      {docs.length !== 0 ? (\r\n        <>\r\n          <ImageGrid\r\n            setSelectedImage={setSelectedImage}\r\n            docs={docs}\r\n            loading={loading}\r\n          />\r\n          {selectedImage && (\r\n            <Modal\r\n              selectedImage={selectedImage}\r\n              setSelectedImage={setSelectedImage}\r\n              author={res}\r\n              setLike={setLike}\r\n              currentUser={data}\r\n              isAll={true}\r\n              subscribe={subscribe}\r\n              unsubscribe={unsubscribe}\r\n              addComment={addComment}\r\n            />\r\n          )}\r\n        </>\r\n      ) : (\r\n        'Нет подписок:('\r\n      )}\r\n    </>\r\n  )\r\n}\r\n","import { collection, onSnapshot, orderBy, query } from 'firebase/firestore'\nimport { useState, useEffect } from 'react'\nimport { projectFirestore } from '../firebase/config'\n\nconst useFirestore = (col, id) => {\n  const [docs, setDocs] = useState([])\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    let projectCollection\n    if (id) {\n      projectCollection = collection(projectFirestore, col, id, 'photo')\n    } else {\n      projectCollection = collection(projectFirestore, col)\n    }\n\n    const q = query(projectCollection, orderBy('createdAt', 'desc'))\n\n    const unsub = onSnapshot(q, (doc) => {\n      let documents = []\n      doc.forEach((d) => {\n        documents.push({\n          ...d.data(),\n          id: d.id,\n        })\n      })\n      setDocs(documents)\n      setLoading(false)\n    })\n    return () => unsub()\n  }, [col, id])\n\n  return { docs, loading }\n}\n\nexport default useFirestore\n","import React, { useState } from 'react'\r\nimport { ImageGrid } from '../comps/ImageGrid'\r\nimport { Loading } from '../comps/Loading'\r\nimport { Modal } from '../comps/PostModal/Modal'\r\nimport { auth } from '../firebase/config'\r\nimport useFirestore from '../hooks/useFirestore'\r\nimport { usePost } from '../hooks/usePost'\r\nimport useProfile from '../hooks/useProfile'\r\n\r\nexport const Images = () => {\r\n  const [selectedImage, setSelectedImage] = useState(null)\r\n\r\n  const { docs, loading } = useFirestore('images')\r\n  const { setLike, addComment, subscribe, unsubscribe } = usePost()\r\n  const { data } = useProfile(auth?.currentUser?.uid)\r\n  let author = docs.filter((i) => i?.email === selectedImage?.email)[0]\r\n\r\n  if (loading) {\r\n    return <Loading />\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <ImageGrid\r\n        setSelectedImage={setSelectedImage}\r\n        docs={docs}\r\n        loading={loading}\r\n      />\r\n      {selectedImage && (\r\n        <Modal\r\n          selectedImage={selectedImage}\r\n          setSelectedImage={setSelectedImage}\r\n          author={author}\r\n          setLike={setLike}\r\n          addComment={addComment}\r\n          currentUser={data}\r\n          isAll={true}\r\n          subscribe={subscribe}\r\n          unsubscribe={unsubscribe}\r\n        />\r\n      )}\r\n    </>\r\n  )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport useAuth from '../hooks/useAuth'\r\nimport { formatErrorMessage } from '../utils'\r\nimport s from './Registration.module.css'\r\n\r\nexport const Login = () => {\r\n  const { error: authError, signIn } = useAuth()\r\n\r\n  const [data, setData] = useState({\r\n    email: '',\r\n    password: '',\r\n    error: null,\r\n    loading: false,\r\n  })\r\n\r\n  const { email, password, error, loading } = data\r\n\r\n  const handleChange = (e) => {\r\n    setData({\r\n      ...data,\r\n      [e.target.name]: e.target.value,\r\n    })\r\n  }\r\n  const submitHandle = (e) => {\r\n    e.preventDefault()\r\n    setData({\r\n      ...data,\r\n      error: null,\r\n      loading: true,\r\n    })\r\n    if (!email || !password) {\r\n      setData({\r\n        ...data,\r\n        error: 'Все поля обязательны!',\r\n      })\r\n    }\r\n    signIn(email, password)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (authError) {\r\n      setData({\r\n        ...data,\r\n        error: formatErrorMessage(authError),\r\n        loading: false,\r\n      })\r\n    }\r\n  }, [authError, data])\r\n\r\n  return (\r\n    <div className={s.container}>\r\n      <div className={s.login}>\r\n        <div className={s.content}>\r\n          <h1>Войти</h1>\r\n          <form className={s.form} onSubmit={submitHandle}>\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"email\"\r\n              name=\"email\"\r\n              value={email}\r\n              onChange={handleChange}\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"пароль\"\r\n              name=\"password\"\r\n              value={password}\r\n              onChange={handleChange}\r\n            />\r\n            <span className={s.forget}>Забыли пароль?</span>\r\n            <span className={s.clearfix}></span>\r\n            <button disabled={loading} className={s.btn}>\r\n              {' '}\r\n              {!loading ? 'Войти' : 'Вход...'}\r\n            </button>\r\n            <p>\r\n              Нет аккаунта? - <Link to=\"/register\">Регистрация</Link>\r\n            </p>\r\n          </form>\r\n        </div>\r\n        {error ? <p className=\"error\">{error}</p> : null}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Username } from './Username'\r\n\r\nexport const Comments = ({ comments, currentUser }) => {\r\n  return (\r\n    <div className=\"comments\">\r\n      {comments\r\n        ? comments.map((i, index) => {\r\n            return (\r\n              <div key={index}>\r\n                <Username\r\n                  author={i?.author}\r\n                  currentUser={currentUser}\r\n                  style={{ fontSize: '14px' }}\r\n                />\r\n                <span className=\"comment\">{i.comment}</span>\r\n              </div>\r\n            )\r\n          })\r\n        : null}\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useEffect } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { Footer } from '../comps/PostModal/Footer'\r\nimport { Status } from '../comps/PostModal/Status'\r\nimport { Image } from '../comps/PostModal/Image'\r\nimport { Comment } from '../comps/PostModal/Comment'\r\n\r\nimport { Username } from '../comps/PostModal/Username'\r\nimport { usePost } from '../hooks/usePost'\r\nimport useProfile from '../hooks/useProfile'\r\n\r\nimport s from '../comps/PostModal/Post.module.css'\r\nimport { motion } from 'framer-motion'\r\nimport { Liked } from '../comps/Liked'\r\nimport { Comments } from '../comps/PostModal/Comments'\r\nimport { auth } from '../firebase/config'\r\nimport { Loading } from '../comps/Loading'\r\n\r\nexport const Post = () => {\r\n  const { id, uid } = useParams()\r\n  const { data: currentUser } = useProfile(auth?.currentUser?.uid)\r\n  const { docs, loading, setLike, addComment, subscribe, unsubscribe } =\r\n    usePost(id, uid)\r\n  const { data } = useProfile(docs?.uid)\r\n\r\n  const [user, setuser] = useState(null)\r\n  const [post, setPost] = useState(null)\r\n  const [selectedPost, setSelectedPost] = useState(null)\r\n  const [comments, setComments] = useState(null)\r\n\r\n  useEffect(() => {\r\n    setuser(data)\r\n    setPost(docs)\r\n    setComments(docs?.comments)\r\n  }, [docs, id, data, currentUser])\r\n\r\n  const select = (post) => {\r\n    setSelectedPost(post)\r\n  }\r\n\r\n  const onComment = (postId, author, text) => {\r\n    addComment(postId, author, text)\r\n    setComments([...comments, { author, text }])\r\n  }\r\n\r\n  if (loading) {\r\n    return <Loading />\r\n  }\r\n\r\n  return (\r\n    <div className={s.post}>\r\n      <div className={s.postInner}>\r\n        {post && user ? (\r\n          <>\r\n            <motion.div className={s.postImgBig}>\r\n              <Image img={post.url} />\r\n            </motion.div>\r\n\r\n            <motion.div className={s.postInfo}>\r\n              <Username\r\n                author={user}\r\n                subscribe={subscribe}\r\n                currentUser={currentUser}\r\n                unsubscribe={unsubscribe}\r\n              />\r\n              <Status\r\n                setLike={setLike}\r\n                selectedImage={post}\r\n                author={user}\r\n                setSelectedPost={select}\r\n                postId={id}\r\n              />\r\n              <Footer author={user} />\r\n              <Comments comments={comments} currentUser={currentUser} />\r\n              <Comment\r\n                addComment={onComment}\r\n                author={user}\r\n                postId={post.postId}\r\n              />\r\n            </motion.div>\r\n            {selectedPost && (\r\n              <Liked likedUsers={post.likedUsers} setSelectedPost={select} />\r\n            )}\r\n          </>\r\n        ) : (\r\n          <Loading />\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nconst Camera = () => {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      style={{ width: '25px', height: '25px', cursor: 'pointer' }}\r\n      viewBox=\"0 0 20 20\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        d=\"M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z\"\r\n        clipRule=\"evenodd\"\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default Camera\r\n","import React from 'react'\r\n\r\nconst Delete = ({ deleteImage = (r) => r }) => {\r\n  return (\r\n    <svg\r\n      onClick={deleteImage}\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      style={{\r\n        width: '25px',\r\n        height: '25px',\r\n        cursor: 'pointer',\r\n        color: '#f24957',\r\n      }}\r\n      viewBox=\"0 0 20 20\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\"\r\n        clipRule=\"evenodd\"\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default Delete\r\n","import React from 'react'\r\nimport Camera from './Camera'\r\nimport Delete from './Delete'\r\n\r\nexport const ImageContainer = ({\r\n  avatar,\r\n  deleteImage = (r) => r,\r\n  setImg = (r) => r,\r\n}) => {\r\n  return (\r\n    <div className=\"img_container \">\r\n      <img\r\n        src={\r\n          avatar ||\r\n          'https://imdezcode.files.wordpress.com/2020/02/imdezcode-logo.png'\r\n        }\r\n        alt=\"avatar\"\r\n      />\r\n      <div className=\"overlay\">\r\n        {deleteImage && setImg && (\r\n          <div>\r\n            <label htmlFor=\"photo\">\r\n              <Camera />\r\n            </label>\r\n            {avatar ? <Delete deleteImage={deleteImage} /> : null}\r\n            <input\r\n              type=\"file\"\r\n              id=\"photo\"\r\n              accept=\"image/*\"\r\n              style={{ display: 'none' }}\r\n              onChange={(e) => setImg(e.target.files[0])}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { auth } from '../firebase/config'\r\nimport { ImageContainer } from './ImageContainer'\r\n\r\nexport const Sidenav = ({\r\n  user,\r\n  id,\r\n  active,\r\n  setImg = (r) => r,\r\n  deleteImage = (r) => r,\r\n}) => {\r\n  return (\r\n    <div className=\"sidenav\">\r\n      <div className=\"profile\">\r\n        {setImg && deleteImage ? (\r\n          <ImageContainer\r\n            avatar={user.avatar}\r\n            setImg={setImg}\r\n            deleteImage={deleteImage}\r\n          />\r\n        ) : (\r\n          <ImageContainer avatar={user.avatar} />\r\n        )}\r\n\r\n        <div className=\"name\">{user.name}</div>\r\n        <div className=\"job\">{user.email}</div>\r\n      </div>\r\n\r\n      <div className=\"sidenav-url\">\r\n        <div className=\"url\">\r\n          <Link\r\n            to={`/profile/${id}`}\r\n            className={active === 'profile' ? 'active' : ''}\r\n          >\r\n            Профиль\r\n          </Link>\r\n          <hr align=\"center\" />\r\n        </div>\r\n        {auth?.currentUser?.uid === id && (\r\n          <div className=\"url\">\r\n            <Link\r\n              to=\"/settings\"\r\n              className={active === 'settings' ? 'active' : ''}\r\n            >\r\n              Настройки\r\n            </Link>\r\n            <hr align=\"center\" />\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\n\nconst Title = () => {\n  return (\n    <div className=\"title\">\n      {/* <h1>FireGram</h1> */}\n      <h2>Ваши Картинки</h2>\n      <p>Загрузите изображения.</p>\n    </div>\n  )\n}\n\nexport default Title\n","import { addDoc, collection } from 'firebase/firestore'\nimport { getDownloadURL, ref, uploadBytesResumable } from 'firebase/storage'\nimport { useState, useEffect } from 'react'\nimport {\n  projectStorage,\n  projectFirestore,\n  timestamp,\n  auth,\n} from '../firebase/config'\nimport useProfile from './useProfile'\n\nconst useStorage = (file, postId) => {\n  const [progress, setProgress] = useState(0)\n  const [error, setError] = useState(null)\n  const [url, setUrl] = useState(null)\n  const { data } = useProfile(auth.currentUser.uid)\n\n  useEffect(() => {\n    const storageRef = ref(projectStorage, file.name)\n    const collectionRef = collection(\n      projectFirestore,\n      'images',\n      auth.currentUser.uid,\n      'photo'\n    )\n\n    const uploadTask = uploadBytesResumable(storageRef, file)\n    uploadTask.on(\n      'state_changed',\n      (snap) => {\n        let percentage = (snap.bytesTransferred / snap.totalBytes) * 100\n        setProgress(percentage)\n      },\n      (err) => setError(err),\n      async () => {\n        const url = await getDownloadURL(uploadTask.snapshot.ref)\n        // const url = getDownloadURL(storageRef)\n        const createdAt = timestamp()\n        if (data) {\n          await addDoc(collectionRef, {\n            url,\n            createdAt,\n            avatar: data?.avatar || '',\n            name: data?.name || '',\n            email: data?.email || '',\n            uid: auth.currentUser.uid,\n            like: 0,\n            postId,\n            likedUsers: [],\n          })\n\n          setUrl(url)\n        }\n      }\n    )\n    const allImgRef = collection(projectFirestore, 'images')\n\n    return async () => {\n      if (data) {\n        const createdAt = timestamp()\n        const url = await getDownloadURL(uploadTask.snapshot.ref)\n        await addDoc(allImgRef, {\n          url,\n          createdAt,\n          avatar: data?.avatar || '',\n          name: data?.name || '',\n          email: data?.email || '',\n          uid: auth.currentUser.uid,\n          like: 0,\n          postId,\n          likedUsers: [],\n          comments: [],\n        })\n      }\n    }\n  }, [file, data])\n\n  return { progress, url, error }\n}\n\nexport default useStorage\n","import React, { useEffect } from 'react'\nimport useStorage from '../hooks/useStorage'\nimport { motion } from 'framer-motion'\n\nexport const ProgressBar = ({ file, setFile = (r) => r }) => {\n  const postId = Math.random() * 100\n  const { url, progress } = useStorage(file, postId)\n\n  useEffect(() => {\n    if (url) {\n      setFile(null)\n    }\n  }, [url, setFile])\n\n  return (\n    <motion.div\n      initial={{ width: 0 }}\n      animate={{ width: progress + '%' }}\n      className=\"progress-bar\"\n    ></motion.div>\n  )\n}\n","import React, { useState } from 'react'\nimport { ProgressBar } from './ProgressBar'\n\nexport const UploadForm = () => {\n  const [file, setFile] = useState(null)\n  const [error, setError] = useState(null)\n\n  const types = ['image/png', 'image/jpeg']\n  const changeHandler = (e) => {\n    let selected = e.target.files[0]\n    if (selected && types.includes(selected.type)) {\n      setFile(selected)\n      setError('')\n    } else {\n      setFile(null)\n      setError('Please select an image file (png or jpeg)')\n    }\n  }\n  return (\n    <form className=\"upload_form\">\n      <label>\n        <input type=\"file\" onChange={changeHandler} />\n        <span>+</span>\n      </label>\n\n      <div className=\"output\">\n        {error && <div className=\"error\">{error}</div>}\n        {file && <div>{file.name}</div>}\n        {file && <ProgressBar file={file} setFile={setFile} />}\n      </div>\n    </form>\n  )\n}\n","import React from 'react'\r\nimport { useEffect } from 'react'\r\nimport { useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { ImageGrid } from '../comps/ImageGrid'\r\nimport { Loading } from '../comps/Loading'\r\nimport { Modal } from '../comps/PostModal/Modal'\r\nimport { Sidenav } from '../comps/Sidenav'\r\nimport Title from '../comps/Title'\r\nimport { UploadForm } from '../comps/UploadForm'\r\nimport { auth } from '../firebase/config'\r\nimport useFirestore from '../hooks/useFirestore'\r\nimport { usePost } from '../hooks/usePost'\r\n\r\nimport useProfile from '../hooks/useProfile'\r\n\r\nexport const Profile = () => {\r\n  const { id } = useParams()\r\n\r\n  const [selectedImage, setSelectedImage] = useState(null)\r\n  const [user, setuser] = useState(null)\r\n\r\n  const [docsList, setDocsList] = useState([])\r\n\r\n  const { docs, loading } = useFirestore('images', id)\r\n  const { data } = useProfile(id)\r\n  const { setLike, addComment } = usePost(id)\r\n\r\n  useEffect(() => {\r\n    setuser(data)\r\n    setDocsList(docs)\r\n  }, [data, id, docs])\r\n\r\n  if (loading) {\r\n    return <Loading />\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {user && id ? (\r\n        <>\r\n          <Sidenav user={user} active={'profile'} id={id} />\r\n          {id === auth?.currentUser?.uid && (\r\n            <>\r\n              <Title />\r\n              <UploadForm />\r\n            </>\r\n          )}\r\n\r\n          <div>\r\n            <ImageGrid\r\n              setSelectedImage={setSelectedImage}\r\n              // id={id}\r\n              docs={docsList}\r\n              loading={loading}\r\n            />\r\n            {selectedImage && (\r\n              <Modal\r\n                selectedImage={selectedImage}\r\n                setSelectedImage={setSelectedImage}\r\n                author={user}\r\n                setLike={setLike}\r\n                addComment={addComment}\r\n                currentUser={data}\r\n              />\r\n            )}\r\n          </div>\r\n        </>\r\n      ) : (\r\n        'No data'\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport const AuthButton = ({ className, disabled, children }) => {\r\n  return (\r\n    <button className={className} disabled={disabled}>\r\n      {children}\r\n    </button>\r\n  )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useState } from 'react'\r\nimport { AuthButton } from '../comps/AuthButton'\r\nimport useAuth from '../hooks/useAuth'\r\nimport { formatErrorMessage } from '../utils'\r\nimport s from './Registration.module.css'\r\n\r\nexport const Register = () => {\r\n  const [data, setData] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    error: null,\r\n    loading: false,\r\n  })\r\n\r\n  const { signup, error: authError } = useAuth()\r\n\r\n  const handleChange = (e) => {\r\n    setData({\r\n      ...data,\r\n      [e.target.name]: e.target.value,\r\n    })\r\n  }\r\n\r\n  const submitHandle = (e) => {\r\n    e.preventDefault()\r\n    setData({\r\n      ...data,\r\n      loading: true,\r\n    })\r\n    signup(name, email, password)\r\n    setData({\r\n      name: '',\r\n      email: '',\r\n      password: '',\r\n      error: null,\r\n      loading: false,\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (authError) {\r\n      setData({\r\n        ...data,\r\n        error: formatErrorMessage(authError),\r\n        loading: false,\r\n      })\r\n    }\r\n  }, [authError, data])\r\n\r\n  const { name, email, password, error, loading } = data\r\n\r\n  return (\r\n    <div className={s.container}>\r\n      <div className={s.register}>\r\n        <div className={s.content}>\r\n          <h1>Регистрация</h1>\r\n\r\n          <form onSubmit={submitHandle} className={s.form}>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Имя\"\r\n              name=\"name\"\r\n              value={name}\r\n              onChange={handleChange}\r\n            />\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"email\"\r\n              name=\"email\"\r\n              value={email}\r\n              onChange={handleChange}\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Пароль\"\r\n              name=\"password\"\r\n              value={password}\r\n              onChange={handleChange}\r\n            />\r\n            <span className={s.clearfix}></span>\r\n            <AuthButton className={s.btn} disabled={loading}>\r\n              {!loading ? 'Зарегистрироваться' : 'Регистрация...'}\r\n            </AuthButton>\r\n          </form>\r\n        </div>\r\n        {error ? <p className=\"error\">{error}</p> : null}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport useProfile from '../hooks/useProfile'\r\n\r\nexport const ProfileMain = ({ user }) => {\r\n  const { updateProfileData } = useProfile()\r\n  const [isEditing, setIsEditing] = useState(false)\r\n  const [name, setName] = useState(user.name)\r\n\r\n  const onEditHandle = () => {\r\n    setIsEditing(!isEditing)\r\n  }\r\n\r\n  const inputHandle = (e) => {\r\n    setName(e.target.value)\r\n  }\r\n\r\n  const onEdit = () => {\r\n    updateProfileData(name)\r\n    setIsEditing(false)\r\n  }\r\n\r\n  return (\r\n    <div className=\"main\">\r\n      <h2>Информация о профиле</h2>\r\n      <div className=\"card\">\r\n        <div className=\"card-body\">\r\n          <i className=\"fa fa-pen fa-xs edit\" onClick={onEditHandle}></i>\r\n          <div>\r\n            {isEditing ? (\r\n              <div>\r\n                <input value={name} onChange={inputHandle} className=\"input\" />\r\n                <button className=\"button\" onClick={onEdit}>\r\n                  Изменить\r\n                </button>\r\n              </div>\r\n            ) : (\r\n              <p>\r\n                Имя: <span>{user.name}</span>\r\n              </p>\r\n            )}\r\n          </div>\r\n          <div>\r\n            <p>\r\n              Email: <span>{user.email}</span>\r\n            </p>\r\n          </div>\r\n          <div>\r\n            <p>\r\n              Зарегистрирован:\r\n              <span>{user.createdAt.toDate().toDateString()}</span>{' '}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* <h2>SOCIAL MEDIA</h2>\r\n            <div className=\"card\">\r\n              <div className=\"card-body\">\r\n                <i className=\"fa fa-pen fa-xs edit\"></i>\r\n                <div className=\"social-media\">\r\n                  <span className=\"fa-stack fa-sm\">\r\n                    <i className=\"fas fa-circle fa-stack-2x\"></i>\r\n                    <i className=\"fab fa-facebook fa-stack-1x fa-inverse\"></i>\r\n                  </span>\r\n                  <span className=\"fa-stack fa-sm\">\r\n                    <i className=\"fas fa-circle fa-stack-2x\"></i>\r\n                    <i className=\"fab fa-twitter fa-stack-1x fa-inverse\"></i>\r\n                  </span>\r\n                  <span className=\"fa-stack fa-sm\">\r\n                    <i className=\"fas fa-circle fa-stack-2x\"></i>\r\n                    <i className=\"fab fa-instagram fa-stack-1x fa-inverse\"></i>\r\n                  </span>\r\n                  <span className=\"fa-stack fa-sm\">\r\n                    <i className=\"fas fa-circle fa-stack-2x\"></i>\r\n                    <i className=\"fab fa-invision fa-stack-1x fa-inverse\"></i>\r\n                  </span>\r\n                  <span className=\"fa-stack fa-sm\">\r\n                    <i className=\"fas fa-circle fa-stack-2x\"></i>\r\n                    <i className=\"fab fa-github fa-stack-1x fa-inverse\"></i>\r\n                  </span>\r\n                  <span className=\"fa-stack fa-sm\">\r\n                    <i className=\"fas fa-circle fa-stack-2x\"></i>\r\n                    <i className=\"fab fa-whatsapp fa-stack-1x fa-inverse\"></i>\r\n                  </span>\r\n                  <span className=\"fa-stack fa-sm\">\r\n                    <i className=\"fas fa-circle fa-stack-2x\"></i>\r\n                    <i className=\"fab fa-snapchat fa-stack-1x fa-inverse\"></i>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div> */}\r\n    </div>\r\n  )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Sidenav } from '../comps/Sidenav'\r\nimport useProfile from '../hooks/useProfile'\r\nimport { ProfileMain } from '../comps/ProfileMain'\r\nimport { auth } from '../firebase/config'\r\n\r\nexport const Settings = () => {\r\n  const [user, setuser] = useState(null)\r\n  const [img, setImg] = useState('')\r\n  const { uploadImg, deleteAvatar, data } = useProfile(auth.currentUser.uid)\r\n\r\n  useEffect(() => {\r\n    setuser(data)\r\n\r\n    if (img) {\r\n      uploadImg(img, user, setImg)\r\n    }\r\n  }, [img, data])\r\n\r\n  const onDeleteAvatar = () => {\r\n    deleteAvatar(user)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {user ? (\r\n        <>\r\n          <Sidenav\r\n            user={user}\r\n            setImg={setImg}\r\n            deleteImage={onDeleteAvatar}\r\n            active={'settings'}\r\n            id={auth.currentUser.uid}\r\n          />\r\n          <ProfileMain user={user} />\r\n        </>\r\n      ) : (\r\n        'No data'\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\nimport { Route, Routes } from 'react-router-dom'\nimport { Navbar } from './comps/Navbar'\nimport { PrivateRoute } from './comps/PrivateRoute'\nimport { AuthProvider } from './context/auth'\nimport useAuth from './hooks/useAuth'\nimport { Home } from './pages/Home'\nimport { Images } from './pages/Images'\nimport { Login } from './pages/Login'\nimport { Post } from './pages/Post'\nimport { Profile } from './pages/Profile'\nimport { Register } from './pages/Register'\nimport { Settings } from './pages/Settings'\n\nfunction App() {\n  const { user } = useAuth()\n\n  return (\n    <div className=\"App\">\n      <AuthProvider>\n        <Navbar />\n        <Routes>\n          <Route\n            path=\"/\"\n            element={\n              <PrivateRoute user={user}>\n                <Home />\n              </PrivateRoute>\n            }\n          />\n          <Route\n            path=\"/firegram-main\"\n            element={\n              <PrivateRoute user={user}>\n                <Home />\n              </PrivateRoute>\n            }\n          />\n          <Route path=\"/images\" element={<Images />} />\n          <Route path=\"/login\" element={<Login />} />\n          <Route path=\"/register\" element={<Register />} />\n          <Route path=\"/profile/:id\" element={<Profile />} />\n          <Route path=\"/post/:uid/:id\" element={<Post />} />\n          <Route path=\"/post/:id\" element={<Post />} />\n\n          <Route\n            path=\"/settings\"\n            element={\n              <PrivateRoute user={user}>\n                <Settings />\n              </PrivateRoute>\n            }\n          />\n        </Routes>\n      </AuthProvider>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}